# Amazon DynamoDB


## Má»¥c lá»¥c

- [Tá»•ng quan](#tá»•ng-quan)
- [1. Core Concepts](#1-core-concepts)
- [2. Primary Key](#2-primary-key)
- [3. Capacity Modes](#3-capacity-modes)
- [4. Secondary Indexes](#4-secondary-indexes)
- [5. Global Tables](#5-global-tables)
- [6. DynamoDB Streams](#6-dynamodb-streams)
- [7. DAX (DynamoDB Accelerator)](#7-dax-dynamodb-accelerator)
- [8. Transactions](#8-transactions)
- [9. TTL (Time to Live)](#9-ttl-time-to-live)
- [10. Best Practices](#10-best-practices)
- [11. Pricing](#11-pricing)
- [Summary](#summary)

---

## Tá»•ng quan

**Amazon DynamoDB** lÃ  **fully managed NoSQL database service** cung cáº¥p hiá»‡u suáº¥t single-digit millisecond latency á»Ÿ má»i quy mÃ´. DynamoDB há»— trá»£ cáº£ **key-value** vÃ  **document data models**, phÃ¹ há»£p cho cÃ¡c á»©ng dá»¥ng yÃªu cáº§u throughput cao vÃ  latency tháº¥p.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DYNAMODB ARCHITECTURE                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    DYNAMODB TABLE                            â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚   â”‚  â”‚   Item 1    â”‚  â”‚   Item 2    â”‚  â”‚   Item 3    â”‚          â”‚   â”‚
â”‚   â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚   â”‚
â”‚   â”‚  â”‚ â”‚PK: user1â”‚ â”‚  â”‚ â”‚PK: user2â”‚ â”‚  â”‚ â”‚PK: user3â”‚ â”‚          â”‚   â”‚
â”‚   â”‚  â”‚ â”‚SK: 2024 â”‚ â”‚  â”‚ â”‚SK: 2024 â”‚ â”‚  â”‚ â”‚SK: 2025 â”‚ â”‚          â”‚   â”‚
â”‚   â”‚  â”‚ â”‚Attrs... â”‚ â”‚  â”‚ â”‚Attrs... â”‚ â”‚  â”‚ â”‚Attrs... â”‚ â”‚          â”‚   â”‚
â”‚   â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚   â”‚                                                                 â”‚   â”‚
â”‚   â”‚  Primary Key (PK): Partition Key hoáº·c (Partition Key + Sort Key)â”‚   â”‚
â”‚   â”‚  Item: Collection of attributes Ä‘Æ°á»£c identify bá»Ÿi Primary Key â”‚   â”‚
â”‚   â”‚  Attribute: Fundamental data element (giá»‘ng columns trong SQL) â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    DYNAMODB FEATURES                         â”‚   â”‚
â”‚   â”‚  â€¢ Serverless - KhÃ´ng quáº£n lÃ½ infrastructure                 â”‚   â”‚
â”‚   â”‚  â€¢ Auto-scaling - Tá»± Ä‘á»™ng má»Ÿ rá»™ng capacity                   â”‚   â”‚
â”‚   â”‚  â€¢ Global Tables - Multi-region, multi-active replication   â”‚   â”‚
â”‚   â”‚  â€¢ On-Demand/Provisioned Capacity Modes                      â”‚   â”‚
â”‚   â”‚  â€¢ DynamoDB Streams - Change data capture                    â”‚   â”‚
â”‚   â”‚  â€¢ DAX - In-memory caching (microsecond latency)            â”‚   â”‚
â”‚   â”‚  â€¢ ACID Transactions - Multi-item transactions              â”‚   â”‚
â”‚   â”‚  â€¢ TTL - Automatic item expiration                          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Use Cases phá»• biáº¿n

| Use Case | MÃ´ táº£ |
|----------|-------|
| **Web/Mobile Apps** | Session management, user profiles, shopping carts |
| **Gaming** | Leaderboards, player state, game data |
| **IoT** | Device state, sensor data, telemetry |
| **E-commerce** | Product catalogs, inventory, order processing |
| **Real-time Analytics** | Clickstream data, metrics, event logging |
| **Serverless Apps** | Backend cho Lambda functions |

> **Nguá»“n**: [What is Amazon DynamoDB?](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Introduction.html)

### EXAM TIP: "LEAST Operational Overhead for ANY Scale"

> [!IMPORTANT]
> Khi exam há»i: "Which database has the **LEAST operational overhead** at **ANY scale**?"
> â†’ ÄÃ¡p Ã¡n luÃ´n lÃ  **DynamoDB**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DynamoDB = Zero Operational Overhead                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   âœ… NO patching                 - AWS quáº£n lÃ½ hoÃ n toÃ n                    â”‚
â”‚   âœ… NO capacity planning        - Auto scale up/down (On-Demand mode)      â”‚
â”‚   âœ… NO server management        - Serverless (khÃ´ng cÃ³ instance)          â”‚
â”‚   âœ… NO replication setup        - Built-in multi-AZ                        â”‚
â”‚   âœ… NO backup management        - Continuous backup available              â”‚
â”‚   âœ… NO connection pooling       - HTTP-based API                           â”‚
â”‚                                                                             â”‚
â”‚   Scale: 0 â†’ millions of requests/second (khÃ´ng cáº§n thay Ä‘á»•i gÃ¬!)          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### So sÃ¡nh Operational Overhead

| Task | DynamoDB | Aurora Serverless | RDS | EC2 + Self-managed |
|------|----------|-------------------|-----|---------------------|
| **Patching** | AWS | AWS | AWS | âŒ You |
| **Scaling** | âœ… **Automatic** | Automatic | Manual resize | âŒ You |
| **Capacity** | âœ… **On-Demand** | Auto pause | Pre-provision | âŒ You |
| **HA/Replication** | âœ… **Built-in** | Built-in | Multi-AZ config | âŒ You |
| **Backups** | âœ… **Automatic** | Automatic | Configure | âŒ You |

```
Operational Overhead:

Ãt nháº¥t â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Nhiá»u nháº¥t

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DynamoDB â”‚   â”‚  Aurora  â”‚   â”‚   RDS    â”‚   â”‚ Self-managed â”‚
â”‚          â”‚   â”‚Serverlessâ”‚   â”‚          â”‚   â”‚   on EC2     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   âœ… Best        Good          Manual         Everything!
```

### Sample Exam Questions

```
â“ "Which database provides the LEAST operational overhead at ANY scale?"

   A. Amazon RDS
   B. Amazon Aurora
   C. âœ… Amazon DynamoDB
   D. Amazon Redshift

â“ "Company needs a database that scales automatically with 
    no capacity planning. Which service?"

   A. RDS MySQL
   B. Aurora PostgreSQL  
   C. âœ… DynamoDB
   D. ElastiCache
```

---

## 1. Core Concepts

### 1.1 Table, Items, Attributes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DYNAMODB DATA MODEL                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  TABLE: Movies                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ PARTITION KEY: MovieID (Number)                            â”‚   â”‚
â”‚  â”‚ SORT KEY: ReleaseYear (Number)                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚  ITEM 1:                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ MovieID     â”‚ 101                                            â”‚ â”‚
â”‚  â”‚ ReleaseYear â”‚ 2024                                           â”‚ â”‚
â”‚  â”‚ Title       â”‚ "The Cloud Architecture"                       â”‚ â”‚
â”‚  â”‚ Genre       â”‚ ["Action", "Sci-Fi"]                           â”‚ â”‚
â”‚  â”‚ Rating      â”‚ 8.5                                            â”‚ â”‚
â”‚  â”‚ BoxOffice   â”‚ { "domestic": 5000000, "international": 8000000 }â”‚ â”‚
â”‚  â”‚ IsAvailable â”‚ true                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  ITEM 2:                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ MovieID     â”‚ 102                                            â”‚ â”‚
â”‚  â”‚ ReleaseYear â”‚ 2023                                           â”‚ â”‚
â”‚  â”‚ Title       â”‚ "Serverless Adventures"                        â”‚ â”‚
â”‚  â”‚ Genre       â”‚ ["Comedy"]                                     â”‚ â”‚
â”‚  â”‚ Rating      â”‚ 7.2                                            â”‚ â”‚
â”‚  â”‚ BoxOffice   â”‚ { "domestic": 3000000 }                        â”‚ â”‚
â”‚  â”‚ IsAvailable â”‚ false                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  NOTES:                                                              â”‚
â”‚  â€¢ Má»—i item cÃ³ thá»ƒ cÃ³ attributes khÃ¡c nhau (schema-less)          â”‚
â”‚  â€¢ Item size limit: 400 KB (tÃ­nh cáº£ attribute names + values)      â”‚
â”‚  â€¢ Table khÃ´ng cÃ³ limit sá»‘ items hoáº·c table size                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 Data Types

| Category | Types | Examples |
|----------|-------|----------|
| **Scalar** | String, Number, Binary, Boolean, Null | `"name"`, `123`, `true` |
| **Document** | List, Map | `["a", "b"]`, `{"a": 1}` |
| **Set** | String Set, Number Set, Binary Set | `SS: ["a", "b"]`, `NS: [1, 2, 3]` |

### 1.3 Read Consistency

#### RCU lÃ  gÃ¬? RCU Ä‘o lÆ°á»ng cÃ¡i gÃ¬?

**RCU (Read Capacity Unit)** lÃ  Ä‘Æ¡n vá»‹ Ä‘o lÆ°á»ng **CAPACITY (nÄƒng lá»±c/kháº£ nÄƒng xá»­ lÃ½)** cho read operations trong DynamoDB.

**RCU dÃ¹ng Ä‘á»ƒ Ä‘o lÆ°á»ng:**
- Kháº£ nÄƒng Ä‘á»c data cá»§a table trong **Provisioned Capacity Mode**
- TÆ°Æ¡ng tá»± nhÆ° "mÃ£ lá»±c" cá»§a xe - cho biáº¿t table cÃ³ thá»ƒ Ä‘á»c bao nhiÃªu data má»—i giÃ¢y

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                RCU ÄO LÆ¯á»œNG CÃI GÃŒ?                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  VÃ Dá»¤ THá»°C Táº¾:                                                       â”‚
â”‚                                                                       â”‚
â”‚  Giá»‘ng nhÆ° Ä‘Æ°á»ng cao tá»‘c:                                             â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚     RCU = Sá»‘ lÃ n Ä‘Æ°á»ng (capacity/lane)                        â”‚  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â”‚  5 RCU = ÄÆ°á»ng 5 lÃ n â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º        â”‚  â”‚
â”‚  â”‚        Cho phÃ©p 5 xe Ä‘i song song má»—i giÃ¢y                   â”‚  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â”‚  100 RCU = ÄÆ°á»ng 100 lÃ n â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º         â”‚  â”‚
â”‚  â”‚          Cho phÃ©p 100 xe Ä‘i song song má»—i giÃ¢y               â”‚  â”‚
â”‚  â”‚          (Ä‘Æ°á»ng cao tá»‘c lá»›n, xá»­ lÃ½ Ä‘Æ°á»£c traffic cao)         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  TRONG DYNAMODB:                                                      â”‚
â”‚                                                                       â”‚
â”‚  1 RCU = 1 "lÃ n Ä‘Æ°á»ng" cho read operations:                          â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€ 1 RCU cho phÃ©p Ä‘á»c:                                              â”‚
â”‚  â”‚    â€¢ 1 item â‰¤ 4 KB vá»›i Strongly Consistent Read Má»–I GIÃ‚Y        â”‚
â”‚  â”‚    HOáº¶C                                                           â”‚
â”‚  â”‚    â€¢ 2 items â‰¤ 4 KB vá»›i Eventually Consistent Read Má»–I GIÃ‚Y     â”‚
â”‚  â”‚                                                                  â”‚
â”‚  â”‚  â†’ Náº¿u báº¡n set 10 RCU cho table, tá»©c lÃ  báº¡n "thuÃª" 10 lÃ n Ä‘Æ°á»ng  â”‚
â”‚  â”‚    table cÃ³ thá»ƒ Ä‘á»c tá»‘i Ä‘a 10 items (4KB) má»—i giÃ¢y              â”‚
â”‚  â”‚                                                                  â”‚
â”‚  â”‚  â†’ Náº¿u traffic vÆ°á»£t quÃ¡ 10 RCU (vÃ­ dá»¥ 15 reads/giÃ¢y)?           â”‚
â”‚  â”‚    Requests thá»© 11-15 sáº½ bá»‹ THROTTLE (lá»—i ProvisionedThroughputExceeded)â”‚
â”‚  â”‚                                                                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                       â”‚
â”‚  QUAN TRá»ŒNG:                                                          â”‚
â”‚  â€¢ RCU chá»‰ Ã¡p dá»¥ng cho PROVISIONED CAPACITY MODE                     â”‚
â”‚  â€¢ ON-DEMAND MODE khÃ´ng dÃ¹ng RCU - dÃ¹ng RRU (Read Request Unit)      â”‚
â”‚  â€¢ RCU tÃ­nh theo GIÃ‚Y, RRU tÃ­nh theo REQUEST                         â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CÃCH TÃNH RCU CHI TIáº¾T                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  1 RCU = Kháº£ nÄƒng Ä‘á»c 1 item cÃ³ kÃ­ch thÆ°á»›c â‰¤ 4 KB                     â”‚
â”‚          vá»›i Strongly Consistent Read Má»–I GIÃ‚Y                       â”‚
â”‚                                                                       â”‚
â”‚  HOáº¶C                                                                 â”‚
â”‚                                                                       â”‚
â”‚  1 RCU = Kháº£ nÄƒng Ä‘á»c 2 items cÃ³ kÃ­ch thÆ°á»›c â‰¤ 4 KB má»—i item          â”‚
â”‚          vá»›i Eventually Consistent Read Má»–I GIÃ‚Y                     â”‚
â”‚                                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  VÃ Dá»¤ TÃNH RCU:                                                      â”‚
â”‚                                                                       â”‚
â”‚  Scenario 1: Read 1 item (3 KB)                                      â”‚
â”‚  â”œâ”€ Strongly Consistent: 1 RCU                                       â”‚
â”‚  â””â”€ Eventually Consistent: 0.5 RCU                                   â”‚
â”‚                                                                       â”‚
â”‚  Scenario 2: Read 1 item (6 KB)                                      â”‚
â”‚  â”œâ”€ Strongly Consistent: 2 RCU (6KB / 4KB = 1.5 â†’ round up to 2)    â”‚
â”‚  â””â”€ Eventually Consistent: 1 RCU                                     â”‚
â”‚                                                                       â”‚
â”‚  Scenario 3: Read 10 items (má»—i item 2 KB)                           â”‚
â”‚  â”œâ”€ Strongly Consistent: 10 RCU (10 Ã— 0.5 = 5, nhÆ°ng minimum 1/item) â”‚
â”‚  â””â”€ Eventually Consistent: 5 RCU                                     â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Eventually Consistent vs Strongly Consistent - KhÃ¡c nhau nhÆ° tháº¿ nÃ o?

**Äiá»ƒm khÃ¡c biá»‡t Cá»T LÃ•I:** CÃ¡ch DynamoDB Ä‘á»c data tá»« cÃ¡c Availability Zones (AZs)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         DYNAMODB REPLICATION ARCHITECTURE                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Khi write data vÃ o DynamoDB, data Ä‘Æ°á»£c replicate Ä‘áº¿n 3 AZs:        â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚    AZ-1       â”‚     â”‚    AZ-2       â”‚     â”‚    AZ-3       â”‚      â”‚
â”‚  â”‚   (Primary)   â”‚â”€â”€â”€â”€â–ºâ”‚   (Replica 1) â”‚â”€â”€â”€â”€â–ºâ”‚   (Replica 2) â”‚      â”‚
â”‚  â”‚               â”‚     â”‚               â”‚     â”‚               â”‚      â”‚
â”‚  â”‚  "New Data"   â”‚     â”‚  "New Data"   â”‚     â”‚  "New Data"   â”‚      â”‚
â”‚  â”‚      âœ“        â”‚     â”‚      âœ“        â”‚     â”‚      âœ“        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                       â”‚
â”‚  Write xong â†’ Data replicate ngay â†’ Táº¥t cáº£ 3 AZs Ä‘á»u cÃ³ data giá»‘ng   â”‚
â”‚  nhau (thÆ°á»ng < 1 giÃ¢y)                                              â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    EVENTUALLY CONSISTENT READ (GiÃ¡: 0.5 RCU)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  CÆ  CHáº¾: DynamoDB tráº£ vá» data tá»« AZ Gáº¦N NHáº¤T, khÃ´ng kiá»ƒm tra        â”‚
â”‚          cÃ¡c AZs khÃ¡c cÃ³ data má»›i nháº¥t chÆ°a                         â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  Timeline: Write vá»«a xong (T+0)                                â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  AZ-1: "New Data" âœ“      AZ-2: "Old Data" â—      AZ-3: "Old" â— â”‚  â”‚
â”‚  â”‚       (cÃ³ new data)       (chÆ°a replicate)      (chÆ°a replicate)â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  App Read â”€â”€â–º DynamoDB chá»n AZ-2 (gáº§n nháº¥t)                   â”‚  â”‚
â”‚  â”‚               â”‚                                                â”‚  â”‚
â”‚  â”‚               â–¼                                                â”‚  â”‚
â”‚  â”‚          Return "Old Data" âš ï¸                                  â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  â†’ App tháº¥y data CÅ¨, khÃ´ng tháº¥y write vá»«a xong!               â”‚  â”‚
â”‚  â”‚  â†’ NhÆ°ng sau 1-2 giÃ¢y, táº¥t cáº£ AZs Ä‘á»u cÃ³ "New Data"            â”‚  â”‚
â”‚  â”‚  â†’ Gá»i lÃ  "Eventually" (cuá»‘i cÃ¹ng) consistent                 â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”‚  âœ“ Æ¯U ÄIá»‚M: GiÃ¡ ráº» (0.5 RCU), latency tháº¥p hÆ¡n                       â”‚
â”‚  âœ— NHÆ¯á»¢C ÄIá»‚M: CÃ³ thá»ƒ Ä‘á»c Ä‘Æ°á»£c data cÅ© trong < 1s sau write          â”‚
â”‚                                                                       â”‚
â”‚  Tá»¶ Lá»† STALE DATA: Ráº¥t tháº¥p (~0.1%), nhÆ°ng váº«n cÃ³ thá»ƒ xáº£y ra        â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    STRONGLY CONSISTENT READ (GiÃ¡: 1 RCU)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  CÆ  CHáº¾: DynamoDB Ä‘á»£i vÃ  Ä‘áº£m báº£o Táº¤T Cáº¢ AZs Ä‘á»u cÃ³ data má»›i nháº¥t    â”‚
â”‚          rá»“i má»›i tráº£ vá» cho app                                     â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  Timeline: Write vá»«a xong (T+0)                                â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  AZ-1: "New Data" âœ“      AZ-2: "Old Data" â—      AZ-3: "Old" â— â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  App Read â”€â”€â–º DynamoDB kiá»ƒm tra Táº¤T Cáº¢ 3 AZs                  â”‚  â”‚
â”‚  â”‚               â”‚                                                â”‚  â”‚
â”‚  â”‚               â”œâ”€â–º AZ-1: CÃ³ New Data âœ“                         â”‚  â”‚
â”‚  â”‚               â”œâ”€â–º AZ-2: ChÆ°a cÃ³ â†’ Äá»¢I replicate...            â”‚  â”‚
â”‚  â”‚               â”œâ”€â–º AZ-3: ChÆ°a cÃ³ â†’ Äá»¢I replicate...            â”‚  â”‚
â”‚  â”‚               â”‚                                                â”‚  â”‚
â”‚  â”‚               (Sau ~10-50ms)                                   â”‚  â”‚
â”‚  â”‚               â”‚                                                â”‚  â”‚
â”‚  â”‚               Táº¥t cáº£ AZs Ä‘á»u cÃ³ "New Data" âœ“âœ“âœ“                â”‚  â”‚
â”‚  â”‚               â”‚                                                â”‚  â”‚
â”‚  â”‚               â–¼                                                â”‚  â”‚
â”‚  â”‚          Return "New Data" âœ“                                   â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  â†’ App LUÃ”N tháº¥y data Má»šI NHáº¤T sau write!                     â”‚  â”‚
â”‚  â”‚  â†’ KhÃ´ng bao giá» stale data                                   â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”‚  âœ“ Æ¯U ÄIá»‚M: LuÃ´n Ä‘á»c Ä‘Æ°á»£c data má»›i nháº¥t, 100% consistency           â”‚
â”‚  âœ— NHÆ¯á»¢C ÄIá»‚M: GiÃ¡ Ä‘áº¯t gáº¥p Ä‘Ã´i (1 RCU), latency cao hÆ¡n ~10-50ms    â”‚
â”‚                                                                       â”‚
â”‚  CHI PHÃ CAO HÆ N VÃŒ:                                                  â”‚
â”‚  â€¢ Pháº£i query/check táº¥t cáº£ 3 AZs thay vÃ¬ 1 AZ                       â”‚
â”‚  â€¢ Pháº£i Ä‘á»£i replication hoÃ n táº¥t                                    â”‚
â”‚  â€¢ Coordination overhead giá»¯a cÃ¡c AZs                               â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### So sÃ¡nh chi tiáº¿t: Eventually vs Strongly Consistent

| TiÃªu chÃ­ | Eventually Consistent | Strongly Consistent |
|----------|----------------------|---------------------|
| **GiÃ¡ tiá»n** | Ráº» (0.5 RCU cho 4KB) | Äáº¯t gáº¥p Ä‘Ã´i (1 RCU cho 4KB) |
| **Latency** | Nhanh (~1-5ms) | Cháº­m hÆ¡n (~5-15ms) |
| **CÆ¡ cháº¿** | Äá»c tá»« 1 AZ gáº§n nháº¥t | Äá»c vÃ  Ä‘á»“ng bá»™ táº¥t cáº£ 3 AZs |
| **Data má»›i nháº¥t** | KhÃ´ng Ä‘áº£m báº£o (cÃ³ thá»ƒ stale) | LuÃ´n Ä‘áº£m báº£o 100% |
| **Thá»i gian stale** | ThÆ°á»ng < 1 giÃ¢y sau write | KhÃ´ng bao giá» stale |
| **Use Case** | Social feeds, analytics, recommendations | Banking, inventory, auth |

#### VÃ­ dá»¥ thá»±c táº¿

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRACTICAL EXAMPLES                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  âœ… NÃŠN DÃ™NG EVENTUALLY CONSISTENT:                                 â”‚
â”‚                                                                       â”‚
â”‚  1. Facebook Feed                                                    â”‚
â”‚     - User A vá»«a Ä‘Äƒng status                                        â”‚
â”‚     - Friend B refresh feed ngay láº­p tá»©c                             â”‚
â”‚     - CÃ³ thá»ƒ chÆ°a tháº¥y status má»›i ngay (cháº¥p nháº­n delay 1-2s)       â”‚
â”‚     - Giáº£m 50% read cost âœ“                                          â”‚
â”‚                                                                       â”‚
â”‚  2. Product Recommendations                                          â”‚
â”‚     - "KhÃ¡ch hÃ ng cÅ©ng mua" suggestions                             â”‚
â”‚     - KhÃ´ng cáº§n real-time chÃ­nh xÃ¡c tá»«ng giÃ¢y                       â”‚
â”‚                                                                       â”‚
â”‚  3. Analytics Dashboard                                              â”‚
â”‚     - Metrics cÃ³ thá»ƒ delay vÃ i giÃ¢y khÃ´ng sao                        â”‚
â”‚                                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  âœ… NÃŠN DÃ™NG STRONGLY CONSISTENT:                                   â”‚
â”‚                                                                       â”‚
â”‚  1. Bank Account Balance                                             â”‚
â”‚     - User vá»«a chuyá»ƒn tiá»n ($100 â†’ $50)                             â”‚
â”‚     - Ngay sau Ä‘Ã³ kiá»ƒm tra sá»‘ dÆ°                                    â”‚
â”‚     - PHáº¢I tháº¥y $50, khÃ´ng thá»ƒ tháº¥y $100 (stale)                   â”‚
â”‚     - Wrong balance = financial error âš ï¸                            â”‚
â”‚                                                                       â”‚
â”‚  2. Inventory Management                                             â”‚
â”‚     - Item stock: 5 â†’ 4 (sau khi bÃ¡n 1)                             â”‚
â”‚     - Customer tiáº¿p theo check stock                                 â”‚
â”‚     - PHáº¢I tháº¥y 4, khÃ´ng thá»ƒ tháº¥y 5 (overselling)                   â”‚
â”‚                                                                       â”‚
â”‚  3. User Authentication                                              â”‚
â”‚     - User vá»«a Ä‘á»•i password                                         â”‚
â”‚     - Login ngay sau Ä‘Ã³                                              â”‚
â”‚     - PHáº¢I sá»­ dá»¥ng password má»›i, khÃ´ng thá»ƒ dÃ¹ng cÅ©                  â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **Nguá»“n**: [DynamoDB Read Consistency](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.ReadConsistency.html)

#### WCU lÃ  gÃ¬? (Bonus: Write Capacity Unit)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   WRITE CAPACITY UNITS (WCU)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  1 WCU = Kháº£ nÄƒng write 1 item cÃ³ kÃ­ch thÆ°á»›c â‰¤ 1 KB má»—i giÃ¢y        â”‚
â”‚                                                                       â”‚
â”‚  VÃ Dá»¤ TÃNH WCU:                                                      â”‚
â”‚                                                                       â”‚
â”‚  Scenario 1: Write 1 item (0.5 KB)                                   â”‚
â”‚  â””â”€ 1 WCU (0.5 KB â‰¤ 1 KB)                                            â”‚
â”‚                                                                       â”‚
â”‚  Scenario 2: Write 1 item (2 KB)                                     â”‚
â”‚  â””â”€ 2 WCU (2 KB / 1 KB = 2)                                          â”‚
â”‚                                                                       â”‚
â”‚  Scenario 3: Write 1 item (10 KB)                                    â”‚
â”‚  â””â”€ 10 WCU (10 KB / 1 KB = 10)                                       â”‚
â”‚                                                                       â”‚
â”‚  Scenario 4: Write 100 items (má»—i item 0.5 KB) má»—i giÃ¢y            â”‚
â”‚  â””â”€ 50 WCU (100 items Ã— 0.5 KB / 1 KB = 50, nhÆ°ng minimum 1/item)   â”‚
â”‚                                                                       â”‚
â”‚  ğŸ’¡ QUAN TRá»ŒNG:                                                       â”‚
â”‚  â€¢ WCU calculation phá»©c táº¡p hÆ¡n RCU vÃ¬ pháº£i tÃ­nh toÃ n bá»™ item size   â”‚
â”‚  â€¢ Write thÃªm 1 attribute cÅ©ng tÄƒng WCU                             â”‚
â”‚  â€¢ Update toÃ n bá»™ item = Write láº¡i toÃ n bá»™ item                     â”‚
â”‚  â€¢ Transaction Write = 2Ã— WCU (prepare + commit phases)              â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Summary: RCU vs WCU

| ÄÆ¡n vá»‹ | DÃ¹ng cho | 1 Unit = | TÃ­nh theo |
|--------|----------|----------|-----------|
| **RCU** | Read operations | 4 KB item | Per read request |
| **WCU** | Write operations | 1 KB item | Per write request |
| **RRU** | Read (On-Demand) | 4 KB item | Pay-per-request |
| **WRU** | Write (On-Demand) | 1 KB item | Pay-per-request |

---

## 2. Primary Key

### 2.1 Simple Primary Key (Partition Key only)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             SIMPLE PRIMARY KEY (Partition Key Only)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Table: Users                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Primary Key: UserID (String)                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”‚  Items:                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚  â”‚
â”‚  â”‚   UserID     â”‚   Email      â”‚   Name       â”‚                    â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”‚  â”‚
â”‚  â”‚ "user_123"   â”‚"a@email.com" â”‚  "Alice"     â”‚                    â”‚  â”‚
â”‚  â”‚ "user_456"   â”‚"b@email.com" â”‚  "Bob"       â”‚                    â”‚  â”‚
â”‚  â”‚ "user_789"   â”‚"c@email.com" â”‚  "Charlie"   â”‚                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚  â”‚
â”‚                                                                       â”‚
â”‚  âœ“ Má»—i item Ä‘Æ°á»£c identify duy nháº¥t bá»Ÿi UserID                       â”‚  â”‚
â”‚  âœ“ UserID pháº£i unique trong table                                   â”‚  â”‚
â”‚  âœ“ Query/GetItem chá»‰ cáº§n UserID                                    â”‚  â”‚
â”‚                                                                       â”‚  â”‚
â”‚  âš ï¸ CONSTRAINTS:                                                      â”‚  â”‚
â”‚  âœ— Partition Key KHÃ”NG Ä‘Æ°á»£c NULL (required)                         â”‚  â”‚
â”‚  âœ— Partition Key KHÃ”NG Ä‘Æ°á»£c empty vá»›i Binary type                   â”‚  â”‚
â”‚  âœ“ String type cÃ³ thá»ƒ empty "" nhÆ°ng KHÃ”NG Ä‘Æ°á»£c null               â”‚  â”‚
â”‚  â†’ Insert item thiáº¿u PK sáº½ lá»—i ValidationException                  â”‚  â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Composite Primary Key (Partition Key + Sort Key)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           COMPOSITE PRIMARY KEY (Partition + Sort Key)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Table: Orders                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Partition Key: CustomerID (String)                           â”‚  â”‚
â”‚  â”‚  Sort Key: OrderTimestamp (Number - Unix timestamp)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”‚  Items:                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚ CustomerID   â”‚ OrderTime    â”‚ OrderID      â”‚ Total        â”‚     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚  â”‚
â”‚  â”‚  "cust_001"  â”‚ 1704067200   â”‚ "ord_1001"   â”‚ 150.00       â”‚     â”‚  â”‚
â”‚  â”‚  "cust_001"  â”‚ 1704153600   â”‚ "ord_1002"   â”‚ 230.50       â”‚     â”‚  â”‚
â”‚  â”‚  "cust_001"  â”‚ 1704240000   â”‚ "ord_1003"   â”‚ 89.99        â”‚     â”‚  â”‚
â”‚  â”‚  "cust_002"  â”‚ 1704067200   â”‚ "ord_2001"   â”‚ 450.00       â”‚     â”‚  â”‚
â”‚  â”‚  "cust_002"  â”‚ 1704326400   â”‚ "ord_2002"   â”‚ 120.00       â”‚     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚                                                                       â”‚  â”‚
â”‚  âœ“ Partition Key: XÃ¡c Ä‘á»‹nh partition (logical grouping)            â”‚  â”‚
â”‚  âœ“ Sort Key: Sáº¯p xáº¿p items trong cÃ¹ng partition                   â”‚  â”‚
â”‚  âœ“ Combination (CustomerID + OrderTime) pháº£i unique               â”‚  â”‚
â”‚  âœ“ Query cÃ³ thá»ƒ filter theo range trÃªn Sort Key                   â”‚  â”‚
â”‚                                                                       â”‚  â”‚
â”‚  âš ï¸ CONSTRAINTS:                                                      â”‚  â”‚
â”‚  âœ— Partition Key KHÃ”NG Ä‘Æ°á»£c NULL (required)                         â”‚  â”‚
â”‚  âœ— Sort Key KHÃ”NG Ä‘Æ°á»£c NULL (required)                              â”‚  â”‚
â”‚  âœ— Primary Key Tá»I ÄA 2 attributes (PK + SK), khÃ´ng thá»ƒ 3+          â”‚  â”‚
â”‚  â†’ Insert item thiáº¿u PK hoáº·c SK sáº½ lá»—i ValidationException          â”‚  â”‚
â”‚                                                                       â”‚  â”‚
â”‚  ğŸ’¡ WORKAROUND cho 3+ attributes:                                     â”‚  â”‚
â”‚  Concatenate nhiá»u values thÃ nh 1 Sort Key:                         â”‚  â”‚
â”‚  VÃ­ dá»¥: SK = "2024#01#15" (Year#Month#Day)                           â”‚  â”‚
â”‚                                                                       â”‚  â”‚
â”‚  Query Examples:                                                      â”‚  â”‚
â”‚  â€¢ Query(CustomerID="cust_001") â†’ 3 orders                        â”‚  â”‚
â”‚  â€¢ Query(CustomerID="cust_001", SortKey BETWEEN t1 AND t2)        â”‚  â”‚
â”‚                                                                       â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Partition Key Distribution

**Partition Key Distribution** lÃ  cÃ¡ch DynamoDB **phÃ¢n chia data** vÃ o cÃ¡c partitions dá»±a trÃªn giÃ¡ trá»‹ cá»§a Partition Key.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              CÆ  CHáº¾ PARTITION (Giá»‘ng Kafka!)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚   DynamoDB nháº­n Partition Key â†’ Hash function â†’ Partition ID         â”‚
â”‚                                                                       â”‚
â”‚   "user_001" â”€â”€â–º hash() â”€â”€â–º Partition A                              â”‚
â”‚   "user_002" â”€â”€â–º hash() â”€â”€â–º Partition B                              â”‚
â”‚   "user_003" â”€â”€â–º hash() â”€â”€â–º Partition A                              â”‚
â”‚   "user_004" â”€â”€â–º hash() â”€â”€â–º Partition C                              â”‚
â”‚                                                                       â”‚
â”‚   Má»—i Partition:                                                      â”‚
â”‚   â€¢ Tá»‘i Ä‘a ~10 GB storage                                             â”‚
â”‚   â€¢ Tá»‘i Ä‘a 3,000 RCU / 1,000 WCU                                      â”‚
â”‚   â€¢ ÄÆ°á»£c lÆ°u trÃªn physical storage riÃªng                              â”‚
â”‚   â€¢ Auto-split khi vÆ°á»£t limit (khÃ´ng cáº§n manual nhÆ° Kafka)           â”‚
â”‚                                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   SO SÃNH Vá»šI KAFKA:                                                 â”‚
â”‚                                                                       â”‚
â”‚   KhÃ­a cáº¡nh       â”‚ DynamoDB              â”‚ Kafka                    â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚   Key             â”‚ Partition Key         â”‚ Message Key              â”‚
â”‚   CÆ¡ cháº¿          â”‚ Hash(PK) â†’ Partition  â”‚ Hash(Key) â†’ Partition    â”‚
â”‚   Hot Partition   â”‚ âœ… CÃ³ thá»ƒ xáº£y ra       â”‚ âœ… CÃ³ thá»ƒ xáº£y ra          â”‚
â”‚   Ordering        â”‚ Trong partition (SK)  â”‚ Trong partition (offset) â”‚
â”‚   Scale           â”‚ Auto-split            â”‚ Manual add partitions    â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PARTITION KEY DISTRIBUTION (Important!)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  âŒ BAD: Partition Key khÃ´ng Ä‘á»u (Hot Partition)                     â”‚
â”‚                                                                       â”‚
â”‚  Partition Key: Date (YYYY-MM-DD)                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Partition A (2024-01-01) - 90% traffic âš ï¸ HOT               â”‚   â”‚
â”‚  â”‚  Partition B (2024-01-02) - 5% traffic                      â”‚   â”‚
â”‚  â”‚  Partition C (2024-01-03) - 5% traffic                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â†’ Partition A bá»‹ quÃ¡ táº£i, requests bá»‹ THROTTLE!                    â”‚
â”‚                                                                       â”‚
â”‚  âœ… GOOD: Partition Key phÃ¢n phá»‘i Ä‘á»u                               â”‚
â”‚                                                                       â”‚
â”‚  Partition Key: UserID (UUID v4 hoáº·c hash)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Partition A - 25% traffic âœ“                                â”‚   â”‚
â”‚  â”‚  Partition B - 25% traffic âœ“                                â”‚   â”‚
â”‚  â”‚  Partition C - 25% traffic âœ“                                â”‚   â”‚
â”‚  â”‚  Partition D - 25% traffic âœ“                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  ğŸ’¡ BEST PRACTICES:                                                  â”‚
â”‚  â€¢ Sá»­ dá»¥ng UUID, hash cá»§a natural key, hoáº·c high-cardinality values  â”‚
â”‚  â€¢ TrÃ¡nh partition key vá»›i low cardinality (date, status, category)  â”‚
â”‚  â€¢ Náº¿u báº¯t buá»™c dÃ¹ng date â†’ thÃªm suffix random ("2024-01-01#a3f2")  â”‚
â”‚  â€¢ Má»—i partition tá»‘i Ä‘a ~10 GB vÃ  3,000 RCU / 1,000 WCU             â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **Nguá»“n**: [DynamoDB Keys](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.CoreComponents.html#HowItWorks.CoreComponents.PrimaryKey)

### 2.4 Partition Storage & Multi-AZ Replication

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              DYNAMODB PARTITION REPLICATION                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚   Má»—i Partition Ä‘Æ°á»£c replicate tá»± Ä‘á»™ng Ä‘áº¿n 3 AZs:                   â”‚
â”‚                                                                       â”‚
â”‚   Partition A (data cá»§a user_001, user_003, ...)                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚   â”‚   AZ-1    â”‚    â”‚   AZ-2    â”‚    â”‚   AZ-3    â”‚                  â”‚
â”‚   â”‚  (Copy 1) â”‚â—„â”€â”€â–ºâ”‚  (Copy 2) â”‚â—„â”€â”€â–ºâ”‚  (Copy 3) â”‚                  â”‚
â”‚   â”‚   âœ“       â”‚    â”‚   âœ“       â”‚    â”‚   âœ“       â”‚                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚        â”‚                â”‚                â”‚                          â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚              Synchronous replication                                â”‚
â”‚                                                                       â”‚
â”‚   âœ… Tá»± Ä‘á»™ng, khÃ´ng cáº§n cáº¥u hÃ¬nh (built-in)                         â”‚
â”‚   âœ… Synchronous replication (data consistent)                       â”‚
â”‚   âœ… High availability - 1 AZ fail váº«n hoáº¡t Ä‘á»™ng                    â”‚
â”‚   âœ… 99.99% SLA (99.999% vá»›i Global Tables)                         â”‚
â”‚   âœ… Durability: 99.999999999% (11 nines)                            â”‚
â”‚   âœ… KhÃ´ng tÃ­nh phÃ­ thÃªm - Ä‘Ã£ bao gá»“m trong giÃ¡                      â”‚
â”‚                                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   SO SÃNH Vá»šI CÃC SERVICES KHÃC:                                    â”‚
â”‚                                                                       â”‚
â”‚   Service      â”‚ Multi-AZ          â”‚ Config                          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚   DynamoDB     â”‚ âœ… LuÃ´n 3 AZs     â”‚ Tá»± Ä‘á»™ng, miá»…n phÃ­               â”‚
â”‚   RDS          â”‚ âŒ Pháº£i enable    â”‚ Manual, tráº£ thÃªm tiá»n           â”‚
â”‚   Aurora       â”‚ âœ… 6 copies/3 AZs â”‚ Tá»± Ä‘á»™ng, bao gá»“m trong giÃ¡     â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Capacity Modes

DynamoDB cung cáº¥p **hai capacity modes** Ä‘á»ƒ xá»­ lÃ½ read vÃ  write throughput:

### 3.1 On-Demand Capacity Mode

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ON-DEMAND CAPACITY MODE                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  âœ“ Serverless - KhÃ´ng cáº§n capacity planning                         â”‚
â”‚  âœ“ Auto-scaling - Tá»± Ä‘á»™ng scale Ä‘áº¿n hÃ ng ngÃ n requests/second      â”‚
â”‚  âœ“ Pay-per-request - Chá»‰ tráº£ tiá»n cho requests thá»±c táº¿             â”‚
â”‚  âœ“ Instant scaling - Adapt ngay láº­p tá»©c vá»›i traffic spikes         â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   PRICING (per request)                      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Write Request Unit (WRU): 1 KB write                        â”‚   â”‚
â”‚  â”‚  Read Request Unit (RRU): 4 KB eventually consistent read    â”‚   â”‚
â”‚  â”‚  Read Request Unit (RRU): 4 KB strongly consistent read = 2  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  Best for:                                                            â”‚
â”‚  â€¢ Applications má»›i, traffic unpredictable                          â”‚
â”‚  â€¢ Development/testing environments                                  â”‚
â”‚  â€¢ Seasonal/cyclical traffic patterns                               â”‚
â”‚  â€¢ KhÃ´ng muá»‘n manage capacity                                        â”‚
â”‚                                                                       â”‚
â”‚  Limits:                                                              â”‚
â”‚  â€¢ Double previous peak trong 30 mins                               â”‚
â”‚  â€¢ KhÃ´ng cÃ³ limit tuyá»‡t Ä‘á»‘i - scales vÃ´ háº¡n                         â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Provisioned Capacity Mode

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                PROVISIONED CAPACITY MODE                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  âœ“ Pre-allocated capacity - Tá»± define RCU/WCU                      â”‚
â”‚  âœ“ Cost predictable - Pay cho capacity provisioned, khÃ´ng pháº£i usageâ”‚
â”‚  âœ“ Auto Scaling Policies - Tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh capacity             â”‚
â”‚  âœ“ Reserved Capacity - Giáº£m giÃ¡ khi commit capacity                â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                 CAPACITY UNITS                              â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Write Capacity Unit (WCU): 1 write/second cho item â‰¤1 KB   â”‚   â”‚
â”‚  â”‚  Read Capacity Unit (RCU): 2 eventually consistent reads/secâ”‚   â”‚
â”‚  â”‚                            hoáº·c 1 strongly consistent read  â”‚   â”‚
â”‚  â”‚                             cho item â‰¤4 KB                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  Calculations:                                                        â”‚
â”‚  â€¢ Write 100 items (2 KB each)/second = 200 WCU                     â”‚
â”‚  â€¢ Read 100 items (4 KB each)/second (eventual) = 50 RCU            â”‚
â”‚                                                                       â”‚
â”‚  Best for:                                                            â”‚
â”‚  â€¢ Applications cÃ³ traffic predictable, steady                      â”‚
â”‚  â€¢ Production workloads vá»›i consistent traffic                      â”‚
â”‚  â€¢ Cost optimization khi utilization cao                            â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 Capacity Mode Comparison

| Feature | On-Demand | Provisioned |
|---------|-----------|-------------|
| **Setup** | Zero config | Cáº§n specify RCU/WCU |
| **Scaling** | Instant, automatic | Auto Scaling policies |
| **Billing** | Per-request | Per-hour cho capacity |
| **Cost** | Higher per-request | Lower náº¿u high utilization |
| **Predictability** | Variable | Fixed hourly cost |
| **Throttling** | KhÃ´ng bao giá» | CÃ³ thá»ƒ náº¿u vÆ°á»£t capacity |
| **Reserved Capacity** | âŒ | âœ… |

> **Nguá»“n**: [DynamoDB Read/Write Capacity Modes](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.ReadWriteCapacityMode.html)

---

## 4. Secondary Indexes

### 4.1 Global Secondary Index (GSI)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GLOBAL SECONDARY INDEX (GSI)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Base Table: Movies                                                  â”‚
â”‚  PK: MovieID, SK: ReleaseYear                                        â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ MovieID    â”‚ ReleaseYearâ”‚ Title      â”‚ Genre      â”‚             â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚
â”‚  â”‚ mov_001    â”‚ 2024       â”‚ "Action X" â”‚ "Action"   â”‚             â”‚
â”‚  â”‚ mov_002    â”‚ 2023       â”‚ "Comedy Y" â”‚ "Comedy"   â”‚             â”‚
â”‚  â”‚ mov_003    â”‚ 2024       â”‚ "Drama Z"  â”‚ "Drama"    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                       â”‚
â”‚  GSI: GenreIndex                                                     â”‚
â”‚  PK: Genre, SK: ReleaseYear                                          â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚ Genre      â”‚ ReleaseYearâ”‚ MovieID    â”‚                           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                           â”‚
â”‚  â”‚ "Action"   â”‚ 2024       â”‚ mov_001    â”‚                           â”‚
â”‚  â”‚ "Comedy"   â”‚ 2023       â”‚ mov_002    â”‚                           â”‚
â”‚  â”‚ "Drama"    â”‚ 2024       â”‚ mov_003    â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                       â”‚
â”‚  âœ“ GSI cÃ³ partition key vÃ  sort key KHÃC base table                 â”‚
â”‚  âœ“ Eventually consistent (async replication)                        â”‚
â”‚  âœ“ Query trÃªn GSI: Query(Genre="Action", ReleaseYear > 2020)        â”‚
â”‚  âœ“ Pháº£i provision separate RCU/WCU cho GSI                          â”‚
â”‚  âœ“ Maximum 20 GSIs per table                                        â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Local Secondary Index (LSI)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     LOCAL SECONDARY INDEX (LSI)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Base Table: Orders                                                  â”‚
â”‚  PK: CustomerID, SK: OrderTimestamp                                  â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ CustomerID â”‚ OrderTime  â”‚ OrderID    â”‚ Status     â”‚             â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚
â”‚  â”‚ cust_001   â”‚ 1704067200 â”‚ ord_1001   â”‚ "pending"  â”‚             â”‚
â”‚  â”‚ cust_001   â”‚ 1704153600 â”‚ ord_1002   â”‚ "shipped"  â”‚             â”‚
â”‚  â”‚ cust_002   â”‚ 1704067200 â”‚ ord_2001   â”‚ "pending"  â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                       â”‚
â”‚  LSI: CustomerStatusIndex                                            â”‚
â”‚  PK: CustomerID (SAME as base), SK: Status                           â”‚
â”‚                                                                       â”‚
â”‚  âœ“ LSI giá»¯ nguyÃªn partition key cá»§a base table                      â”‚
â”‚  âœ“ Chá»‰ cÃ³ thá»ƒ thÃªm LSI khi táº¡o table (khÃ´ng thÃªm sau)               â”‚
â”‚  âœ“ Strongly consistent reads available                              â”‚
â”‚  âœ“ Share RCU/WCU vá»›i base table (khÃ´ng cáº§n provision riÃªng)         â”‚
â”‚  âœ“ Maximum 5 LSIs per table                                         â”‚
â”‚                                                                       â”‚
â”‚  Query: Query(CustomerID="cust_001", Status="shipped")              â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 Index Comparison

| Feature | GSI | LSI |
|---------|-----|-----|
| **Partition Key** | Different from base table | Same as base table |
| **Sort Key** | Different | Different |
| **Created after table creation** | âœ… Yes | âŒ No (only at create time) |
| **Consistency** | Eventually consistent | Strongly consistent available |
| **Capacity Units** | Separate RCU/WCU | Shares with base table |
| **Max per table** | 20 | 5 |
| **Projected attributes** | Any subset | Any subset |

### 4.4 Index Key Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              INDEX KEY STRUCTURE (Tá»‘i Ä‘a 2 attributes!)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚   GSI (Global Secondary Index):                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  Option 1: [New Partition Key]                  â†’ 1 attr     â”‚  â”‚
â”‚   â”‚  Option 2: [New Partition Key] + [New Sort Key] â†’ 2 attrs    â”‚  â”‚
â”‚   â”‚                                                               â”‚  â”‚
â”‚   â”‚  âœ“ Sort Key lÃ  optional                                       â”‚  â”‚
â”‚   â”‚  âœ“ Partition Key cÃ³ thá»ƒ khÃ¡c hoÃ n toÃ n base table            â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”‚   LSI (Local Secondary Index):                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  LuÃ´n: [Same Partition Key] + [Different Sort Key] â†’ 2 attrsâ”‚  â”‚
â”‚   â”‚                                                               â”‚  â”‚
â”‚   â”‚  âœ— Partition Key PHáº¢I giá»‘ng base table                       â”‚  â”‚
â”‚   â”‚  âœ— Báº¯t buá»™c pháº£i cÃ³ Sort Key                                  â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   PROJECTED ATTRIBUTES (KhÃ¡c vá»›i Key Attributes!)                   â”‚
â”‚                                                                       â”‚
â”‚   NgoÃ i 2 key attributes, index cÃ³ thá»ƒ project thÃªm attributes:    â”‚
â”‚                                                                       â”‚
â”‚   Projection Type  â”‚ MÃ´ táº£                                           â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚   KEYS_ONLY        â”‚ Chá»‰ key attributes                              â”‚
â”‚   INCLUDE          â”‚ Keys + chá»n attributes cá»¥ thá»ƒ                   â”‚
â”‚   ALL              â”‚ Táº¥t cáº£ attributes tá»« base table                 â”‚
â”‚                                                                       â”‚
â”‚   âš ï¸ Key structure váº«n chá»‰ tá»‘i Ä‘a 2 attributes!                     â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **Nguá»“n**: [Secondary Indexes](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/SecondaryIndexes.html)

---

## 5. Global Tables

### Global Tables lÃ  gÃ¬?

**Global Tables = Multi-region replication** - 1 table tá»± Ä‘á»™ng sync giá»¯a nhiá»u AWS regions.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Táº I SAO Cáº¦N GLOBAL TABLES?                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Scenario: App cÃ³ users á»Ÿ cáº£ US vÃ  EU                                â”‚
â”‚                                                                       â”‚
â”‚  âŒ KHÃ”NG CÃ“ Global Tables:                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  US User â”€â”€â–º US DynamoDB â—„â”€â”€ EU User                         â”‚   â”‚
â”‚  â”‚             (N. Virginia)     (cross-region ~200ms!)         â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  â†’ EU users bá»‹ lag cao khi access data á»Ÿ US                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  âœ… CÃ“ Global Tables:                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   auto-sync (<1s)   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚   â”‚
â”‚  â”‚  â”‚ US DDB   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ EU DDB   â”‚              â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”˜                     â””â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”˜              â”‚   â”‚
â”‚  â”‚       â”‚ ~5ms                           â”‚ ~5ms               â”‚   â”‚
â”‚  â”‚    US User                          EU User                 â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  â†’ Má»—i user access local region â†’ LOW LATENCY!              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Äáº·c Ä‘iá»ƒm Global Tables

| Feature | Giáº£i thÃ­ch |
|---------|------------|
| **Active-Active** | Write Ä‘Æ°á»£c á»Ÿ Báº¤T Ká»² region nÃ o (khÃ´ng pháº£i chá»‰ 1 master) |
| **Auto sync** | Data tá»± Ä‘á»™ng Ä‘á»“ng bá»™ giá»¯a regions (<1 giÃ¢y) |
| **Conflict resolution** | Last Writer Wins (timestamp má»›i nháº¥t tháº¯ng) |
| **No downtime** | Náº¿u 1 region cháº¿t, traffic tá»± Ä‘á»™ng chuyá»ƒn sang region khÃ¡c |

### Khi nÃ o dÃ¹ng Global Tables?

| âœ… NÃªn dÃ¹ng | âŒ KhÃ´ng cáº§n |
|------------|-------------|
| Users á»Ÿ nhiá»u regions (US, EU, Asia) | Users chá»‰ á»Ÿ 1 region |
| Cáº§n Disaster Recovery tá»± Ä‘á»™ng | Cháº¥p nháº­n downtime khi cÃ³ sá»± cá»‘ |
| Cáº§n low latency cho global users | Latency khÃ´ng quan trá»ng |

> **Nguá»“n**: [Global Tables](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GlobalTables.html)

---

## 6. DynamoDB Streams

### Streams lÃ  gÃ¬?

**DynamoDB Streams = Event log** - Ghi láº¡i Má»ŒI thay Ä‘á»•i (INSERT/UPDATE/DELETE) xáº£y ra trong table.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Táº I SAO Cáº¦N STREAMS?                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Scenario: E-commerce - Khi order Ä‘Æ°á»£c táº¡o, cáº§n:                     â”‚
â”‚  â€¢ Gá»­i email confirmation cho customer                               â”‚
â”‚  â€¢ Update inventory                                                   â”‚
â”‚  â€¢ Ghi log cho audit                                                 â”‚
â”‚                                                                       â”‚
â”‚  âŒ KHÃ”NG CÃ“ Streams (Polling):                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  App pháº£i liÃªn tá»¥c query: "CÃ³ order má»›i khÃ´ng?"               â”‚   â”‚
â”‚  â”‚  â†’ Tá»‘n RCU, khÃ´ng real-time, phá»©c táº¡p                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  âœ… CÃ“ Streams (Event-driven):                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  Order Created â”€â”€â–º Stream Record â”€â”€â–º Lambda â”€â”€â–º Send Email   â”‚   â”‚
â”‚  â”‚                         â”‚                                     â”‚   â”‚
â”‚  â”‚                         â”œâ”€â”€â–º Lambda â”€â”€â–º Update Inventory      â”‚   â”‚
â”‚  â”‚                         â”‚                                     â”‚   â”‚
â”‚  â”‚                         â””â”€â”€â–º Kinesis â”€â”€â–º Audit Log            â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  â†’ Real-time, khÃ´ng cáº§n polling, event-driven!               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Stream Record Types

| Type | Ná»™i dung | Use case |
|------|----------|----------|
| **NEW_IMAGE** | Data SAU thay Ä‘á»•i | Sync data sang service khÃ¡c |
| **OLD_IMAGE** | Data TRÆ¯á»šC thay Ä‘á»•i | Audit, rollback |
| **NEW_AND_OLD_IMAGES** | Cáº£ trÆ°á»›c vÃ  sau | So sÃ¡nh thay Ä‘á»•i, analytics |
| **KEYS_ONLY** | Chá»‰ primary key | Lightweight triggers |

### Khi nÃ o dÃ¹ng Streams?

| âœ… NÃªn dÃ¹ng | âŒ KhÃ´ng cáº§n |
|------------|-------------|
| Cáº§n react khi data thay Ä‘á»•i | Chá»‰ cáº§n CRUD Ä‘Æ¡n giáº£n |
| Sync data sang Elasticsearch, S3 | KhÃ´ng cáº§n real-time processing |
| Audit/compliance logging | KhÃ´ng cÃ³ event-driven workflows |
| Trigger notifications | |

> **Retention**: Stream records Ä‘Æ°á»£c giá»¯ **24 giá»**

> **Nguá»“n**: [DynamoDB Streams](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Streams.html)

---

## 7. DAX (DynamoDB Accelerator)

### DAX lÃ  gÃ¬?

**DAX = In-memory cache** Ä‘áº·t giá»¯a App vÃ  DynamoDB Ä‘á»ƒ tÄƒng tá»‘c Ä‘á»c.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Táº I SAO Cáº¦N DAX?                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Scenario: Game leaderboard - 1 triá»‡u users cÃ¹ng xem top 100        â”‚
â”‚                                                                       â”‚
â”‚  âŒ KHÃ”NG CÃ“ DAX:                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  1M users â”€â”€â–º DynamoDB                                        â”‚   â”‚
â”‚  â”‚              â”‚                                                â”‚   â”‚
â”‚  â”‚              â””â”€ 1M requests Ã— 1 RCU = 1M RCU/giÃ¢y            â”‚   â”‚
â”‚  â”‚              â””â”€ Latency: ~5-10ms má»—i request                 â”‚   â”‚
â”‚  â”‚              â””â”€ THROTTLING! (vÆ°á»£t quÃ¡ capacity)              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  âœ… CÃ“ DAX:                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  1M users â”€â”€â–º DAX (cache) â”€â”€â–º DynamoDB                       â”‚   â”‚
â”‚  â”‚              â”‚                   â”‚                            â”‚   â”‚
â”‚  â”‚              â”‚ Cache HIT         â”‚ Cache MISS (chá»‰ 1 láº§n)    â”‚   â”‚
â”‚  â”‚              â”‚ ~0.001ms          â”‚ ~5ms                       â”‚   â”‚
â”‚  â”‚              â”‚ KhÃ´ng tá»‘n RCU!    â”‚                            â”‚   â”‚
â”‚  â”‚              â”‚                                                â”‚   â”‚
â”‚  â”‚  â†’ 1M requests nhÆ°ng chá»‰ tá»‘n ~1 RCU (cache refresh)         â”‚   â”‚
â”‚  â”‚  â†’ Latency: MICROSECONDS thay vÃ¬ milliseconds               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### So sÃ¡nh cÃ³/khÃ´ng cÃ³ DAX

| Metric | KhÃ´ng cÃ³ DAX | CÃ³ DAX |
|--------|-------------|--------|
| **Read latency** | 5-10ms | **Microseconds** (~0.001ms) |
| **RCU cost** | Má»—i request tá»‘n RCU | Cache hit = **FREE** |
| **Hot partition** | Dá»… bá»‹ throttle | Cache giáº£m táº£i |

### Khi nÃ o dÃ¹ng DAX?

| âœ… NÃªn dÃ¹ng DAX | âŒ KhÃ´ng nÃªn dÃ¹ng |
|-----------------|-------------------|
| Read-heavy workloads (90%+ reads) | Write-heavy workloads |
| CÃ¹ng items Ä‘Æ°á»£c Ä‘á»c nhiá»u láº§n | Má»—i item chá»‰ Ä‘á»c 1 láº§n |
| Cáº§n microsecond latency (gaming, trading) | Milliseconds lÃ  Ä‘á»§ |
| Muá»‘n giáº£m RCU cost | Cáº§n strongly consistent reads |

> **LÆ°u Ã½**: DAX chá»‰ há»— trá»£ **Eventually Consistent Reads**. Náº¿u cáº§n Strongly Consistent, pháº£i bypass DAX.

> **Nguá»“n**: [DAX](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DAX.html)

### So sÃ¡nh DAX vs Global Tables vs Streams

> [!IMPORTANT]
> **Exam Tip**: PhÃ¢n biá»‡t 3 features quan trá»ng nÃ y!

| Feature | Má»¥c Ä‘Ã­ch | Khi nÃ o dÃ¹ng |
|---------|----------|--------------|
| **DAX** | **TÄƒng tá»‘c Ä‘á»c** (in-memory cache) | Read-heavy, cáº§n microsecond latency, giáº£m RCU cost |
| **Global Tables** | **Multi-region sync** | Global users, disaster recovery, low latency á»Ÿ nhiá»u regions |
| **Streams** | **Capture changes** (event log) | Event-driven workflows, audit, sync to other services |

---

## 8. Transactions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DYNAMODB TRANSACTIONS                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  ACID transactions across multiple items vÃ  tables                   â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    TRANSACTION EXAMPLE                       â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  Transfer $100 from Account A to Account B:                  â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ Account A   â”‚      â”‚ Account B   â”‚      â”‚ Audit Log   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ -$100       â”‚â”€â”€â”€â”€â”€â”€â”‚ +$100       â”‚â”€â”€â”€â”€â”€â”€â”‚ Created     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚             â”‚      â”‚             â”‚      â”‚             â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚         â–²                                           â–²        â”‚   â”‚
â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  Atomic: Táº¥t cáº£ operations thÃ nh cÃ´ng hoáº·c táº¥t cáº£ fail      â”‚   â”‚
â”‚  â”‚  Consistent: Má»i reader tháº¥y káº¿t quáº£ transaction             â”‚   â”‚
â”‚  â”‚  Isolated: KhÃ´ng cÃ³ partial results nhÃ¬n tháº¥y                â”‚   â”‚
â”‚  â”‚  Durable: Káº¿t quáº£ Ä‘Æ°á»£c persist ngay láº­p tá»©c                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  Transaction APIs:                                                    â”‚
â”‚  â€¢ TransactWriteItems: Multiple Put, Update, Delete, ConditionCheck â”‚
â”‚  â€¢ TransactGetItems: Multiple Get operations trong 1 request        â”‚
â”‚                                                                       â”‚
â”‚  Limits:                                                              â”‚
â”‚  â€¢ Maximum 25 items per transaction                                  â”‚
â”‚  â€¢ Maximum 4 MB payload                                              â”‚
â”‚  â€¢ KhÃ´ng thá»ƒ target cÃ¹ng item nhiá»u láº§n trong 1 transaction         â”‚
â”‚  â€¢ Items pháº£i á»Ÿ trong cÃ¹ng AWS Region vÃ  Account                    â”‚
â”‚                                                                       â”‚
â”‚  Cost: 2x regular operations (read/write twice - prepare + commit)  â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **Nguá»“n**: [DynamoDB Transactions](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/transaction-apis.html)

### 8.1 BatchWriteItem vs TransactWriteItems

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         BATCH WRITE vs TRANSACTION (Quan trá»ng!)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  BatchWriteItem (25 items/request):                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚ âœ“   â”‚ â”‚ âœ“   â”‚ â”‚ âœ—   â”‚ â”‚ âœ“   â”‚ â”‚ âœ“   â”‚  â† Partial success       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜    (má»™t sá»‘ fail OK)       â”‚
â”‚  â†’ KHÃ”NG cÃ³ ACID                                                     â”‚
â”‚  â†’ SDK cÃ³ thá»ƒ auto-split náº¿u > 25 items                             â”‚
â”‚  â†’ Má»—i item write Ä‘á»™c láº­p                                           â”‚
â”‚                                                                       â”‚
â”‚  TransactWriteItems (25 items max):                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚ âœ“   â”‚ â”‚ âœ“   â”‚ â”‚ âœ“   â”‚ â”‚ âœ“   â”‚ â”‚ âœ“   â”‚  â† ALL or NOTHING        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚  â†’ CÃ“ ACID Ä‘áº§y Ä‘á»§                                                    â”‚
â”‚  â†’ KHÃ”NG bao giá» auto-split (hard limit 25)                         â”‚
â”‚  â†’ Error náº¿u vÆ°á»£t 25 items                                          â”‚
â”‚                                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   SO SÃNH:                                                           â”‚
â”‚                                                                       â”‚
â”‚   Operation           â”‚ Limit        â”‚ Auto-split? â”‚ ACID?          â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚   BatchWriteItem      â”‚ 25/request   â”‚ âœ… CÃ³ thá»ƒ   â”‚ âŒ KhÃ´ng       â”‚
â”‚   TransactWriteItems  â”‚ 25 total     â”‚ âŒ KhÃ´ng    â”‚ âœ… CÃ³          â”‚
â”‚                                                                       â”‚
â”‚   âš ï¸ Náº¿u cáº§n ACID cho > 25 items â†’ KHÃ”NG THá»‚ trong 1 transaction!  â”‚
â”‚   â†’ Pháº£i thiáº¿t káº¿ láº¡i data model hoáº·c cháº¥p nháº­n eventual consistencyâ”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 DynamoDB Operators

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DYNAMODB OPERATORS                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚   COMPARISON OPERATORS (Filter & Condition Expressions):            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  Operator          â”‚ MÃ´ táº£                    â”‚ VÃ­ dá»¥        â”‚  â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”‚
â”‚   â”‚  =                 â”‚ Báº±ng                     â”‚ age = 30     â”‚  â”‚
â”‚   â”‚  <>                â”‚ KhÃ¡c                     â”‚ status <> X  â”‚  â”‚
â”‚   â”‚  <                 â”‚ Nhá» hÆ¡n                  â”‚ price < 100  â”‚  â”‚
â”‚   â”‚  <=                â”‚ Nhá» hÆ¡n hoáº·c báº±ng       â”‚ qty <= 10    â”‚  â”‚
â”‚   â”‚  >                 â”‚ Lá»›n hÆ¡n                  â”‚ score > 90   â”‚  â”‚
â”‚   â”‚  >=                â”‚ Lá»›n hÆ¡n hoáº·c báº±ng       â”‚ rating >= 4  â”‚  â”‚
â”‚   â”‚  BETWEEN           â”‚ Trong khoáº£ng             â”‚ BETWEEN 1-10 â”‚  â”‚
â”‚   â”‚  IN                â”‚ Trong danh sÃ¡ch          â”‚ IN (a, b, c) â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”‚   LOGICAL OPERATORS:                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  AND               â”‚ Táº¥t cáº£ conditions true   â”‚ a=1 AND b=2  â”‚  â”‚
â”‚   â”‚  OR                â”‚ Ãt nháº¥t 1 condition true â”‚ a=1 OR b=2   â”‚  â”‚
â”‚   â”‚  NOT               â”‚ Phá»§ Ä‘á»‹nh condition       â”‚ NOT a=1      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”‚   FUNCTION OPERATORS:                                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  attribute_exists(path)     â”‚ Attribute tá»“n táº¡i            â”‚  â”‚
â”‚   â”‚  attribute_not_exists(path) â”‚ Attribute khÃ´ng tá»“n táº¡i      â”‚  â”‚
â”‚   â”‚  attribute_type(path, type) â”‚ Check type (S, N, B, SS...)  â”‚  â”‚
â”‚   â”‚  begins_with(path, substr)  â”‚ String báº¯t Ä‘áº§u báº±ng          â”‚  â”‚
â”‚   â”‚  contains(path, operand)    â”‚ String/Set chá»©a value        â”‚  â”‚
â”‚   â”‚  size(path)                 â”‚ KÃ­ch thÆ°á»›c attribute         â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”‚   KEY CONDITION OPERATORS (chá»‰ cho Query trÃªn Sort Key):            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  =                         â”‚ Exact match                   â”‚  â”‚
â”‚   â”‚  <, <=, >, >=              â”‚ Range comparison              â”‚  â”‚
â”‚   â”‚  BETWEEN                   â”‚ Range (inclusive)             â”‚  â”‚
â”‚   â”‚  begins_with               â”‚ Prefix match (String only)    â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”‚   UPDATE EXPRESSION OPERATORS:                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  SET                       â”‚ Add/modify attributes         â”‚  â”‚
â”‚   â”‚  REMOVE                    â”‚ Delete attributes             â”‚  â”‚
â”‚   â”‚  ADD                       â”‚ Add to Number/Set             â”‚  â”‚
â”‚   â”‚  DELETE                    â”‚ Remove from Set               â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. TTL (Time to Live)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TIME TO LIVE (TTL)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Tá»± Ä‘á»™ng xÃ³a items sau má»™t thá»i Ä‘iá»ƒm Ä‘Æ°á»£c Ä‘á»‹nh trÆ°á»›c                 â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  TTL EXAMPLE                                 â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  Session Management:                                         â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  Item: {                                                     â”‚   â”‚
â”‚  â”‚    UserID: "user_123",                                       â”‚   â”‚
â”‚  â”‚    SessionData: {...},                                       â”‚   â”‚
â”‚  â”‚    ExpireAt: 1704067200  â† Unix timestamp (TTL attribute)    â”‚   â”‚
â”‚  â”‚  }                                                           â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  Timeline:                                                   â”‚   â”‚
â”‚  â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  â”œâ”€ T+0: Item created, ExpireAt = current_time + 24h        â”‚   â”‚
â”‚  â”‚  â”œâ”€ T+12h: Item still exists âœ“                             â”‚   â”‚
â”‚  â”‚  â”œâ”€ T+24h: Item automatically deleted ğŸ—‘ï¸                   â”‚   â”‚
â”‚  â”‚  â””â”€ T+48h: No trace of item                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  âœ“ Zero-cost deletion - KhÃ´ng tÃ­nh WCU cho delete operations        â”‚
â”‚  âœ“ Background process - DynamoDB tá»± Ä‘á»™ng scan vÃ  delete            â”‚
â”‚  âœ“ Eventually consistent - Items cÃ³ thá»ƒ tá»“n táº¡i 48h sau TTL        â”‚
â”‚  âœ“ DynamoDB Streams - Delete events váº«n Ä‘Æ°á»£c ghi láº¡i               â”‚
â”‚                                                                       â”‚
â”‚  Use Cases:                                                           â”‚
â”‚  â€¢ Session data expiration                                           â”‚
â”‚  â€¢ Temporary data (verification codes, tokens)                       â”‚
â”‚  â€¢ Log rotation vÃ  data lifecycle management                         â”‚
â”‚  â€¢ Cache invalidation                                                â”‚
â”‚                                                                       â”‚
â”‚  Setup:                                                               â”‚
â”‚  1. Enable TTL trÃªn table                                            â”‚
â”‚  2. Specify attribute name (vÃ­ dá»¥: "ExpireAt")                       â”‚
â”‚  3. Store Unix timestamp (seconds since epoch) trong attribute      â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> **Nguá»“n**: [DynamoDB TTL](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/TTL.html)

---

## 10. Best Practices

### 10.1 Data Modeling

| Practice | MÃ´ táº£ |
|----------|-------|
| **Single-Table Design** | Má»™t table cho nhiá»u entity types, sá»­ dá»¥ng composite keys |
| **Access Patterns First** | Thiáº¿t káº¿ schema dá»±a trÃªn cÃ¡ch data sáº½ Ä‘Æ°á»£c query |
| **Denormalization** | Duplicate data Ä‘á»ƒ trÃ¡nh joins, optimize cho read |
| **Sparse Indexes** | Sá»­ dá»¥ng GSI vá»›i projected attributes phÃ¹ há»£p |

### 10.2 Partition Key

| Do âœ… | Don't âŒ |
|-------|----------|
| Sá»­ dá»¥ng UUID hoáº·c high-cardinality values | Sequential keys (timestamps, auto-increment IDs) |
| Hash cá»§a natural keys náº¿u cáº§n | Low-cardinality (status, category, date) |
| ThÃªm prefix/suffix Ä‘á»ƒ distribute | Monotonically increasing values |

### 10.3 Read/Write Optimization

| Practice | Benefit |
|----------|---------|
| **Batch Operations** | BatchGetItem, BatchWriteItem (tá»‘i Ä‘a 25 items) |
| **Parallel Scan** | PhÃ¢n chia scan workload cho large tables |
| **Projection Expressions** | Chá»‰ retrieve cáº§n thiáº¿t attributes |
| **Pagination** | Sá»­ dá»¥ng LastEvaluatedKey cho large result sets |
| **Conditional Writes** | Optimistic locking Ä‘á»ƒ trÃ¡nh conflicts |

### 10.4 Cost Optimization

| Strategy | MÃ´ táº£ |
|----------|-------|
| **Use On-Demand cho unpredictable** | KhÃ´ng cáº§n capacity planning |
| **Use Provisioned cho steady traffic** | Reserved capacity giáº£m cost |
| **Enable Auto Scaling** | Scale capacity theo demand |
| **Use DAX for read-heavy** | Giáº£m read operations cost |
| **Table Classes** | Standard-IA cho infrequently accessed data |
| **TTL** | Tá»± Ä‘á»™ng xÃ³a khÃ´ng cáº§n thiáº¿t data |

### 10.5 Security

| Feature | Implementation |
|---------|----------------|
| **Encryption at Rest** | AWS owned keys hoáº·c KMS CMK |
| **Encryption in Transit** | TLS 1.2+ |
| **IAM Policies** | Fine-grained access control |
| **VPC Endpoints** | Private connectivity |
| **Point-in-Time Recovery** | 35-day backup window |
| **Continuous Backups** | Cross-region backup |

> **Nguá»“n**: [DynamoDB Best Practices](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/best-practices.html)

---

## 11. Pricing

### 11.1 Core Pricing Components

| Component | On-Demand | Provisioned |
|-----------|-----------|-------------|
| **Write** | $1.25 per million WRUs | $0.00065 per WCU/hour |
| **Read** | $0.25 per million RRUs | $0.00013 per RCU/hour |
| **Storage** | $0.25 per GB/month (Standard) | $0.25 per GB/month |
| **Storage IA** | $0.10 per GB/month | $0.10 per GB/month |

### 11.2 Optional Features Pricing

| Feature | GiÃ¡ |
|---------|-----|
| **DynamoDB Streams** | $0.02 per 100,000 read request units |
| **Global Tables** | Replicated write requests Ã— sá»‘ regions |
| **DAX** | EC2 instance cost cho DAX nodes |
| **Transactions** | 2Ã— regular read/write cost |
| **On-Demand Backup** | $0.10 per GB |
| **Point-in-Time Recovery** | $0.20 per GB |
| **Data Transfer** | AWS standard data transfer rates |

### 11.3 Free Tier

| Resource | Limit |
|----------|-------|
| **Write Capacity** | 200 million WRUs/month |
| **Read Capacity** | 2.5 million RRUs/month |
| **Storage** | 25 GB |
| **Streams Read** | 2.5 million read request units |

### 11.4 Cost Example

```
Scenario: 1M writes/day (1KB each), 10M reads/day (4KB eventual)

On-Demand Mode:
â€¢ Write: 1M Ã— $1.25/million = $1.25/day = $37.50/month
â€¢ Read: 10M Ã— $0.25/million = $2.50/day = $75/month
â€¢ Storage (50GB): $0.25 Ã— 50 = $12.50/month
â€¢ Total: ~$125/month

Provisioned Mode (with 100% utilization):
â€¢ WCU: 1M writes/day = ~12 WCU â†’ $0.00065 Ã— 12 Ã— 730 = $5.69/month
â€¢ RCU: 10M reads/day (eventual = 0.5 RCU each) = ~58 RCU â†’ $0.00013 Ã— 58 Ã— 730 = $5.50/month
â€¢ Storage: $12.50/month
â€¢ Total: ~$24/month (saving ~$100/month)

Note: Provisioned cáº§n buffer capacity, actual cost sáº½ cao hÆ¡n náº¿u utilization < 80%
```

> **Nguá»“n**: [DynamoDB Pricing](https://aws.amazon.com/dynamodb/pricing/)

---

## Summary

| Feature | Key Point |
|---------|-----------|
| **Type** | NoSQL key-value vÃ  document database |
| **Performance** | Single-digit millisecond latency á»Ÿ má»i scale |
| **Capacity Modes** | On-Demand (pay-per-request) hoáº·c Provisioned (capacity-based) |
| **Primary Key** | Simple (Partition Key) hoáº·c Composite (Partition + Sort Key) |
| **Secondary Indexes** | GSI (khÃ¡c partition key) vÃ  LSI (cÃ¹ng partition key) |
| **Global Tables** | Multi-region active-active replication |
| **Streams** | Change data capture cho event-driven architectures |
| **DAX** | In-memory caching (microsecond latency) |
| **Transactions** | ACID operations trÃªn multiple items/tables |
| **TTL** | Tá»± Ä‘á»™ng xÃ³a items theo timestamp |

---

_ÄÃ¡nh dáº¥u [x] trong README.md khi hoÃ n thÃ nh topic nÃ y_
