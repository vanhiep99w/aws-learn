# Amazon EC2 (Elastic Compute Cloud)


## Má»¥c lá»¥c

- [Tá»•ng quan](#tá»•ng-quan)
- [CÃ¡c thÃ nh pháº§n chÃ­nh](#cÃ¡c-thÃ nh-pháº§n-chÃ­nh)
- [Pricing Models](#pricing-models)
- [Placement Groups](#placement-groups)
- [CÃ¡ch truy cáº­p EC2](#cÃ¡ch-truy-cáº­p-ec2)
- [CÃ¡c dá»‹ch vá»¥ liÃªn quan](#cÃ¡c-dá»‹ch-vá»¥-liÃªn-quan)
- [EC2 Hibernate](#ec2-hibernate)
- [Best Practices](#best-practices)
- [Tham kháº£o thÃªm](#tham-kháº£o-thÃªm)

---

## Tá»•ng quan

**Amazon EC2** lÃ  dá»‹ch vá»¥ cung cáº¥p **compute capacity cÃ³ thá»ƒ má»Ÿ rá»™ng** (scalable) trong AWS Cloud. EC2 cho phÃ©p báº¡n khá»Ÿi táº¡o cÃ¡c **virtual servers** (gá»i lÃ  **instances**) theo nhu cáº§u, khÃ´ng cáº§n Ä‘áº§u tÆ° pháº§n cá»©ng váº­t lÃ½ trÆ°á»›c.

### Lá»£i Ã­ch chÃ­nh
- **Scale up/down linh hoáº¡t**: ThÃªm/giáº£m capacity theo workload thá»±c táº¿
- **Pay-as-you-go**: Chá»‰ tráº£ tiá»n cho nhá»¯ng gÃ¬ sá»­ dá»¥ng (tÃ­nh theo giÃ¢y, tá»‘i thiá»ƒu 60 giÃ¢y)
- **Triá»ƒn khai nhanh**: Khá»Ÿi táº¡o instance trong vÃ i phÃºt
- **Äa dáº¡ng cáº¥u hÃ¬nh**: Nhiá»u instance types vá»›i cÃ¡c tá»• há»£p CPU, memory, storage, network khÃ¡c nhau

> **Nguá»“n**: [What is Amazon EC2?](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/concepts.html)

---

## CÃ¡c thÃ nh pháº§n chÃ­nh

### 1. EC2 Instance
- Virtual server cháº¡y trong AWS Cloud
- Má»—i instance cÃ³ cáº¥u hÃ¬nh pháº§n cá»©ng Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh bá»Ÿi **instance type**

### 2. Amazon Machine Image (AMI)
- **Template** chá»©a OS vÃ  pháº§n má»m cáº§n thiáº¿t Ä‘á»ƒ khá»Ÿi táº¡o instance
- CÃ³ thá»ƒ sá»­ dá»¥ng AMI cÃ³ sáºµn cá»§a AWS, AWS Marketplace, hoáº·c tá»± táº¡o custom AMI

### 3. Instance Types
CÃ¡c loáº¡i instance Ä‘Æ°á»£c phÃ¢n loáº¡i theo má»¥c Ä‘Ã­ch sá»­ dá»¥ng:

| Category | MÃ´ táº£ | Use Cases |
|----------|-------|-----------|
| **General Purpose** (M, T series) | CÃ¢n báº±ng compute, memory, network | Web servers, small databases |
| **Compute Optimized** (C series) | CPU máº¡nh | Batch processing, gaming servers |
| **Memory Optimized** (R, X series) | RAM lá»›n | In-memory databases, real-time analytics |
| **Storage Optimized** (I, D series) | High IOPS | Data warehousing, distributed file systems |
| **Accelerated Computing** (P, G series) | GPU/hardware accelerators | Machine learning, graphics rendering |

> **Nguá»“n**: [Amazon EC2 Instance Types](https://aws.amazon.com/ec2/instance-types/)

### 4. Storage Options

| Loáº¡i | Äáº·c Ä‘iá»ƒm | Persistence |
|------|----------|-------------|
| **Amazon EBS** | Block storage, cÃ³ thá»ƒ attach/detach | Persistent (tá»“n táº¡i sau khi terminate náº¿u cáº¥u hÃ¬nh) |
| **Instance Store** | Storage váº­t lÃ½ gáº¯n vá»›i host | Ephemeral (máº¥t khi stop/terminate) |

### 5. Key Pairs
- Cáº·p **public/private key** Ä‘á»ƒ Ä‘Äƒng nháº­p instance an toÃ n
- AWS giá»¯ public key, báº¡n giá»¯ private key

### 6. Security Groups

- **Virtual firewall** kiá»ƒm soÃ¡t traffic vÃ o/ra instance
- Quy Ä‘á»‹nh protocol, port, source/destination IP Ä‘Æ°á»£c phÃ©p

| Äáº·c Ä‘iá»ƒm | Chi tiáº¿t |
|----------|----------|
| **Rules** | âœ… **Chá»‰ cÃ³ ALLOW** - khÃ´ng cÃ³ DENY rules |
| **Default** | Block táº¥t cáº£ (implicit deny) |
| **Stateful** | âœ… Response tá»± Ä‘á»™ng Ä‘Æ°á»£c allow |
| **Level** | Instance (ENI) |
| **Chi phÃ­** | âœ… Miá»…n phÃ­ |

> ğŸ’¡ **Exam tip:** Náº¿u cáº§n **DENY specific IPs** â†’ dÃ¹ng **NACL**, khÃ´ng pháº£i Security Group!

```
Security Group hoáº¡t Ä‘á»™ng:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ Má»i thá»© bá»‹ BLOCK by default
         â†“
âœ… Chá»‰ nhá»¯ng gÃ¬ báº¡n ALLOW má»›i Ä‘Æ°á»£c vÃ o/ra
         â†“
â†’ KhÃ´ng cáº§n "deny rule" vÃ¬ máº·c Ä‘á»‹nh Ä‘Ã£ deny háº¿t!
```

Xem chi tiáº¿t táº¡i [Security Groups](security-groups.md).

---

## Pricing Models

Amazon EC2 cung cáº¥p **7 mÃ´ hÃ¬nh pricing** chÃ­nh Ä‘á»ƒ tá»‘i Æ°u chi phÃ­ theo tá»«ng use case:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        EC2 PRICING MODELS OVERVIEW                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   ğŸ’° On-Demand â”€â”€â”€â”€â”€â”€â”€â”€â–¶ Linh hoáº¡t nháº¥t, khÃ´ng cam káº¿t                     â”‚
â”‚                                                                             â”‚
â”‚   ğŸ“… Reserved Instance â”€â–¶ Cam káº¿t 1-3 nÄƒm, giáº£m tá»›i 72%                    â”‚
â”‚                                                                             â”‚
â”‚   ğŸ’³ Savings Plans â”€â”€â”€â”€â–¶ Cam káº¿t $/giá», linh hoáº¡t instance type            â”‚
â”‚                                                                             â”‚
â”‚   ğŸ”– Spot Instances â”€â”€â”€â”€â–¶ Capacity thá»«a, giáº£m tá»›i 90% (cÃ³ thá»ƒ bá»‹ interrupt)â”‚
â”‚                                                                             â”‚
â”‚   ğŸ  Dedicated Hosts â”€â”€â–¶ Physical server riÃªng, BYOL support               â”‚
â”‚                                                                             â”‚
â”‚   ğŸ”’ Dedicated Instancesâ–¶ Instance cháº¡y trÃªn hardware riÃªng                â”‚
â”‚                                                                             â”‚
â”‚   ğŸ“¦ Capacity Reservationsâ–¶ Äáº£m báº£o capacity trong AZ cá»¥ thá»ƒ              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| MÃ´ hÃ¬nh | Discount | Cam káº¿t | PhÃ¹ há»£p vá»›i |
|---------|----------|---------|-------------|
| **On-Demand** | 0% | KhÃ´ng | Workload ngáº¯n háº¡n, testing |
| **Reserved Instances** | LÃªn Ä‘áº¿n 72% | 1-3 nÄƒm | Workload á»•n Ä‘á»‹nh, biáº¿t trÆ°á»›c cáº¥u hÃ¬nh |
| **Savings Plans** | LÃªn Ä‘áº¿n 72% | 1-3 nÄƒm ($/giá») | Workload á»•n Ä‘á»‹nh, linh hoáº¡t instance |
| **Spot Instances** | LÃªn Ä‘áº¿n 90% | KhÃ´ng | Fault-tolerant, batch processing |
| **Dedicated Hosts** | Varies | TÃ¹y chá»n | Compliance, BYOL |
| **Dedicated Instances** | +2$/giá» | KhÃ´ng | Hardware isolation |
| **Capacity Reservations** | 0% | KhÃ´ng | Äáº£m báº£o capacity |

---

### 1. On-Demand Instances

**MÃ´ hÃ¬nh cÆ¡ báº£n nháº¥t** - tráº£ tiá»n theo thá»i gian sá»­ dá»¥ng, khÃ´ng cáº§n cam káº¿t trÆ°á»›c.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ON-DEMAND PRICING                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  âœ… KhÃ´ng cáº§n thanh toÃ¡n trÆ°á»›c (No upfront payment)             â”‚
â”‚  âœ… KhÃ´ng cam káº¿t dÃ i háº¡n (No long-term commitment)              â”‚
â”‚  âœ… TÄƒng/giáº£m capacity báº¥t ká»³ lÃºc nÃ o                           â”‚
â”‚  âŒ GiÃ¡ cao nháº¥t trong cÃ¡c mÃ´ hÃ¬nh                              â”‚
â”‚                                                                  â”‚
â”‚  Billing:                                                        â”‚
â”‚  â€¢ Linux/Ubuntu: Per-second (min 60 giÃ¢y)                       â”‚
â”‚  â€¢ Windows/RHEL/SUSE: Per-hour                                   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Use Cases:**
- ğŸ§ª **Development/Testing** - environments cáº§n spin up/down nhanh
- ğŸ“Š **Unpredictable workloads** - traffic khÃ´ng dá»± Ä‘oÃ¡n Ä‘Æ°á»£c
- ğŸ†• **Short-term applications** - cháº¡y má»™t vÃ i tuáº§n/thÃ¡ng
- ğŸ”¬ **Proof of concept** - thá»­ nghiá»‡m trÆ°á»›c khi commit dÃ i háº¡n

**VÃ­ dá»¥ giÃ¡ (us-east-1):**
| Instance Type | vCPU | RAM | On-Demand/giá» |
|---------------|------|-----|---------------|
| t3.micro | 2 | 1 GB | $0.0104 |
| t3.medium | 2 | 4 GB | $0.0416 |
| m5.large | 2 | 8 GB | $0.096 |
| c5.xlarge | 4 | 8 GB | $0.17 |

> **Nguá»“n**: [On-Demand Pricing](https://aws.amazon.com/ec2/pricing/on-demand/)

---

### 2. Reserved Instances (RI)

**Cam káº¿t sá»­ dá»¥ng 1 hoáº·c 3 nÄƒm** Ä‘á»ƒ nháº­n má»©c giáº£m giÃ¡ Ä‘Ã¡ng ká»ƒ so vá»›i On-Demand.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        RESERVED INSTANCES                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Commitment: 1 nÄƒm hoáº·c 3 nÄƒm                                               â”‚
â”‚  Discount: LÃªn Ä‘áº¿n 72% so vá»›i On-Demand                                     â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    HAI LOáº I RESERVED INSTANCES                       â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  STANDARD RI                    CONVERTIBLE RI                       â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”‚    â”‚
â”‚  â”‚  â€¢ Discount cao hÆ¡n (~72%)      â€¢ Discount tháº¥p hÆ¡n (~66%)           â”‚    â”‚
â”‚  â”‚  â€¢ KhÃ´ng Ä‘á»•i Ä‘Æ°á»£c instance      â€¢ CÃ³ thá»ƒ Ä‘á»•i sang instance           â”‚    â”‚
â”‚  â”‚    family (vd: m5 â†’ m5)           family khÃ¡c (vd: m5 â†’ c5)          â”‚    â”‚
â”‚  â”‚  â€¢ CÃ³ thá»ƒ modify size            â€¢ Linh hoáº¡t hÆ¡n cho tÆ°Æ¡ng lai       â”‚    â”‚
â”‚  â”‚    trong cÃ¹ng family                                                 â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.1 Payment Options (Upfront Payment)

**Upfront Payment** = **Tráº£ trÆ°á»›c** - Báº¡n tráº£ má»™t khoáº£n tiá»n ngay khi mua Reserved Instance, thay vÃ¬ tráº£ hÃ ng thÃ¡ng.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    3 PAYMENT OPTIONS                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  1ï¸âƒ£ NO UPFRONT (KhÃ´ng tráº£ trÆ°á»›c)                                            â”‚
â”‚     â€¢ Tráº£: $0 ngay + monthly payment                                        â”‚
â”‚     â€¢ Discount: Tháº¥p nháº¥t                                                   â”‚
â”‚     â€¢ PhÃ¹ há»£p: KhÃ´ng muá»‘n bá» tiá»n trÆ°á»›c nhiá»u                               â”‚
â”‚                                                                              â”‚
â”‚  2ï¸âƒ£ PARTIAL UPFRONT (Tráº£ trÆ°á»›c má»™t pháº§n)                                    â”‚
â”‚     â€¢ Tráº£: ~50% upfront + reduced monthly                                   â”‚
â”‚     â€¢ Discount: Trung bÃ¬nh                                                  â”‚
â”‚     â€¢ PhÃ¹ há»£p: CÃ¢n báº±ng giá»¯a upfront vÃ  monthly                             â”‚
â”‚                                                                              â”‚
â”‚  3ï¸âƒ£ ALL UPFRONT (Tráº£ trÆ°á»›c 100%)                                            â”‚
â”‚     â€¢ Tráº£: 100% ngay tá»« Ä‘áº§u, $0 monthly                                     â”‚
â”‚     â€¢ Discount: Cao nháº¥t                                                    â”‚
â”‚     â€¢ PhÃ¹ há»£p: CÃ³ sáºµn tiá»n, muá»‘n tiáº¿t kiá»‡m tá»‘i Ä‘a                           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> [!TIP]
> **Quy táº¯c nhá»›:** Tráº£ trÆ°á»›c cÃ ng nhiá»u â†’ Discount cÃ ng cao
> 
> All Upfront > Partial Upfront > No Upfront

| Payment Option | Upfront | Monthly | Discount |
|----------------|---------|---------|----------|
| **All Upfront** | 100% | $0 | Cao nháº¥t |
| **Partial Upfront** | ~50% | ~50% | Trung bÃ¬nh |
| **No Upfront** | $0 | 100% | Tháº¥p nháº¥t |

**VÃ­ dá»¥ so sÃ¡nh (m5.large, 1 nÄƒm, us-east-1):**

| Option | Upfront | Monthly | Total/nÄƒm | So vá»›i On-Demand |
|--------|---------|---------|-----------|------------------|
| On-Demand | $0 | $69.12 | $829.44 | - |
| No Upfront RI | $0 | $52.56 | $630.72 | Giáº£m 24% |
| Partial Upfront RI | $308 | $25.55 | $614.60 | Giáº£m 26% |
| All Upfront RI | $596 | $0 | $596.00 | Giáº£m 28% |

#### 2.2 Scope: Regional vs Zonal

> [!TIP]
> **Regional RI lÃ  Máº¶C Äá»ŠNH** khi mua trÃªn AWS Console. AWS khuyáº¿n khÃ­ch dÃ¹ng Regional RI vÃ¬ linh hoáº¡t hÆ¡n.

| Scope | MÃ´ táº£ | Flexibility | Capacity Reservation |
|-------|-------|-------------|---------------------|
| **Regional** (Default) | Ãp dá»¥ng cho toÃ n Region | Tá»± Ä‘á»™ng apply cho instances trong Region | âŒ KhÃ´ng |
| **Zonal** | Chá»‰ Ä‘á»‹nh cá»¥ thá»ƒ AZ | Chá»‰ apply cho AZ Ä‘Ã³ | âœ… CÃ³ (Ä‘áº£m báº£o capacity) |

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         REGIONAL vs ZONAL RI                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  REGIONAL RI (Default - Khuyáº¿n nghá»‹)                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                         â”‚
â”‚                                                                              â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚       â”‚                    us-east-1                           â”‚             â”‚
â”‚       â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚             â”‚
â”‚       â”‚   â”‚  1a âœ…  â”‚   â”‚  1b âœ…  â”‚   â”‚  1c âœ…  â”‚             â”‚             â”‚
â”‚       â”‚   â”‚ Discountâ”‚   â”‚ Discountâ”‚   â”‚ Discountâ”‚             â”‚             â”‚
â”‚       â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚             â”‚
â”‚       â”‚                                                        â”‚             â”‚
â”‚       â”‚   Discount Ã¡p dá»¥ng á»Ÿ Báº¤T Ká»² AZ nÃ o trong Region!       â”‚             â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                              â”‚
â”‚  âœ… AZ Flexibility: Launch á»Ÿ AZ nÃ o cÅ©ng Ä‘Æ°á»£c discount                       â”‚
â”‚  âœ… Size Flexibility: m5.large = 2 Ã— m5.medium (cÃ¹ng family)                 â”‚
â”‚  âŒ KhÃ´ng cÃ³ capacity reservation                                            â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  ZONAL RI (Chá»n AZ cá»¥ thá»ƒ)                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                   â”‚
â”‚                                                                              â”‚
â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚       â”‚                    us-east-1                           â”‚             â”‚
â”‚       â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚             â”‚
â”‚       â”‚   â”‚  1a âœ…  â”‚   â”‚  1b âŒ  â”‚   â”‚  1c âŒ  â”‚             â”‚             â”‚
â”‚       â”‚   â”‚ Discountâ”‚   â”‚ No disc â”‚   â”‚ No disc â”‚             â”‚             â”‚
â”‚       â”‚   â”‚+Capacityâ”‚   â”‚         â”‚   â”‚         â”‚             â”‚             â”‚
â”‚       â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚             â”‚
â”‚       â”‚                                                        â”‚             â”‚
â”‚       â”‚   Discount CHá»ˆ á»Ÿ AZ Ä‘Ã£ chá»n (us-east-1a)!              â”‚             â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                              â”‚
â”‚  âœ… Capacity Reservation: Äáº£m báº£o LUÃ”N cÃ³ mÃ¡y sáºµn trong AZ                  â”‚
â”‚  âŒ KhÃ´ng cÃ³ AZ flexibility                                                  â”‚
â”‚  âŒ KhÃ´ng cÃ³ Size flexibility                                                â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Capacity Reservation lÃ  gÃ¬?**

| KhÃ´ng cÃ³ Capacity Reservation | CÃ³ Capacity Reservation |
|-------------------------------|-------------------------|
| Launch EC2 â†’ CÃ³ thá»ƒ bá»‹ lá»—i "InsufficientCapacity" náº¿u AZ háº¿t mÃ¡y | Launch EC2 â†’ **LUÃ”N thÃ nh cÃ´ng** vÃ¬ AWS giá»¯ mÃ¡y sáºµn cho báº¡n |
| Giá»‘ng mua voucher giáº£m giÃ¡ nhÆ°ng khÃ´ng Ä‘áº·t gháº¿ | Giá»‘ng Ä‘áº·t trÆ°á»›c gháº¿ mÃ¡y bay |

**Äiá»u kiá»‡n Ä‘á»ƒ Ä‘Æ°á»£c RI discount (quan trá»ng cho exam!):**

| RI Type | Äiá»u kiá»‡n matching |
|---------|-------------------|
| **Regional RI** | CÃ¹ng **Region** + Instance Type + Platform |
| **Zonal RI** | CÃ¹ng **AZ** + Instance Type + Platform |

**VÃ­ dá»¥: RI Sharing trong Consolidated Billing (AWS Organizations)**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      RI Sharing - Regional RI vs Zonal RI trong Consolidated Billing         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Scenario: Susan (Account A) mua 5 RIs m5.large                             â”‚
â”‚            Bob (Account B) cháº¡y 3 instances m5.large                         â”‚
â”‚            Cáº£ hai trong cÃ¹ng AWS Organization                                â”‚
â”‚                                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                              â”‚
â”‚  Náº¿u Susan mua REGIONAL RI (us-east-1):                                     â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â”‚  Susan cháº¡y á»Ÿ: us-east-1a                                                â”‚
â”‚  â”‚  Bob cháº¡y á»Ÿ:   us-east-1b  â† KHÃC AZ                                     â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â”‚  â†’ Bob VáºªN Ä‘Æ°á»£c discount! (Regional RI flexible across AZs)              â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                              â”‚
â”‚  Náº¿u Susan mua ZONAL RI (us-east-1a):                                       â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â”‚  Susan cháº¡y á»Ÿ: us-east-1a âœ…                                              â”‚
â”‚  â”‚  Bob cháº¡y á»Ÿ:   us-east-1b âŒ KHÃ”NG Ä‘Æ°á»£c discount!                         â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â”‚  â†’ Bob pháº£i cháº¡y á»Ÿ us-east-1a thÃ¬ má»›i Ä‘Æ°á»£c discount                      â”‚
â”‚  â”‚                                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Khi nÃ o dÃ¹ng loáº¡i nÃ o?**

| Scenario | NÃªn dÃ¹ng |
|----------|----------|
| Workload cÃ³ thá»ƒ cháº¡y á»Ÿ báº¥t ká»³ AZ | **Regional RI** âœ… |
| Cáº§n linh hoáº¡t scale size (large â†” xlarge) | **Regional RI** âœ… |
| Database production - cáº§n Ä‘áº£m báº£o LUÃ”N cÃ³ mÃ¡y | **Zonal RI** |
| Disaster Recovery - cáº§n guarantee capacity | **Zonal RI** |
| Mission-critical khÃ´ng cháº¥p nháº­n "InsufficientCapacity" | **Zonal RI** |

#### 2.3 Instance Size Flexibility (Chá»‰ Regional RI)

Reserved Instance cÃ³ thá»ƒ apply cho cÃ¡c size khÃ¡c nhau trong cÃ¹ng instance family dá»±a trÃªn **Normalization Factor**:

| Instance Size | Normalization Factor |
|---------------|---------------------|
| nano | 0.25 |
| micro | 0.5 |
| small | 1 |
| medium | 2 |
| large | 4 |
| xlarge | 8 |
| 2xlarge | 16 |
| 4xlarge | 32 |

**VÃ­ dá»¥:** 1 RI cho `m5.xlarge` (factor = 8) cÃ³ thá»ƒ cover:
- 1 Ã— m5.xlarge (8)
- 2 Ã— m5.large (4 + 4 = 8)
- 4 Ã— m5.medium (2 + 2 + 2 + 2 = 8)
- 8 Ã— m5.small (1 Ã— 8 = 8)

#### 2.4 Reserved Instance Marketplace

CÃ³ thá»ƒ **mua/bÃ¡n** Reserved Instances chÆ°a sá»­ dá»¥ng háº¿t trÃªn marketplace:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 RI MARKETPLACE                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  BÃN RI:                                                        â”‚
â”‚  â€¢ BÃ¡n RI cÃ²n thá»i háº¡n (tá»‘i thiá»ƒu 1 thÃ¡ng remaining)            â”‚
â”‚  â€¢ AWS giá»¯ 12% fee                                               â”‚
â”‚  â€¢ Chá»‰ bÃ¡n Ä‘Æ°á»£c Standard RI (khÃ´ng bÃ¡n Convertible)             â”‚
â”‚                                                                  â”‚
â”‚  MUA RI:                                                        â”‚
â”‚  â€¢ Mua RI cá»§a seller khÃ¡c vá»›i giÃ¡ ráº» hÆ¡n                        â”‚
â”‚  â€¢ Thá»i háº¡n cÃ²n láº¡i ngáº¯n hÆ¡n (vd: 6 thÃ¡ng thay vÃ¬ 12)           â”‚
â”‚  â€¢ PhÃ¹ há»£p náº¿u cáº§n RI ngáº¯n háº¡n                                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Use Cases cho Reserved Instances:**
- ğŸ¢ **Production workloads** - cháº¡y 24/7, á»•n Ä‘á»‹nh
- ğŸ—„ï¸ **Database servers** - RDS, self-managed databases
- ğŸŒ **Web servers** - baseline capacity
- ğŸ“ˆ **Workloads cÃ³ thá»ƒ dá»± Ä‘oÃ¡n** - biáº¿t trÆ°á»›c nhu cáº§u

> **Nguá»“n**: [Reserved Instances](https://aws.amazon.com/ec2/pricing/reserved-instances/)

---

### 3. Savings Plans

**MÃ´ hÃ¬nh linh hoáº¡t hÆ¡n Reserved Instances** - cam káº¿t má»™t má»©c chi tiÃªu ($/giá») thay vÃ¬ cam káº¿t instance type cá»¥ thá»ƒ.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SAVINGS PLANS                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Commitment: Cam káº¿t sá»‘ $/giá» trong 1 hoáº·c 3 nÄƒm                            â”‚
â”‚  Discount: LÃªn Ä‘áº¿n 72% so vá»›i On-Demand                                     â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    BA LOáº I SAVINGS PLANS                             â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  1. COMPUTE SAVINGS PLANS (Linh hoáº¡t nháº¥t)                          â”‚    â”‚
â”‚  â”‚     â€¢ Ãp dá»¥ng cho: EC2, Fargate, Lambda                              â”‚    â”‚
â”‚  â”‚     â€¢ KhÃ´ng quan tÃ¢m: Region, Instance family, OS, Tenancy           â”‚    â”‚
â”‚  â”‚     â€¢ Discount: LÃªn Ä‘áº¿n 66%                                          â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  2. EC2 INSTANCE SAVINGS PLANS (Discount cao hÆ¡n)                   â”‚    â”‚
â”‚  â”‚     â€¢ Cam káº¿t: Instance family + Region (vd: M5 á»Ÿ us-east-1)        â”‚    â”‚
â”‚  â”‚     â€¢ Linh hoáº¡t: Size, OS, Tenancy trong family Ä‘Ã³                  â”‚    â”‚
â”‚  â”‚     â€¢ Discount: LÃªn Ä‘áº¿n 72%                                          â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  3. SAGEMAKER SAVINGS PLANS                                          â”‚    â”‚
â”‚  â”‚     â€¢ Ãp dá»¥ng cho: SageMaker ML instances                            â”‚    â”‚
â”‚  â”‚     â€¢ Discount: LÃªn Ä‘áº¿n 64%                                          â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.1 So sÃ¡nh Savings Plans

| Loáº¡i | Commitment | Flexibility | Discount |
|------|------------|-------------|----------|
| **Compute Savings Plans** | $/giá» | EC2 + Fargate + Lambda, báº¥t ká»³ Region/family | ~66% |
| **EC2 Instance Savings Plans** | $/giá» + Region + Family | Size, OS, Tenancy trong family | ~72% |

#### 3.2 CÃ¡ch hoáº¡t Ä‘á»™ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SAVINGS PLANS WORKFLOW                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  BÆ°á»›c 1: Báº¡n cam káº¿t $10/giá» trong 1 nÄƒm                                    â”‚
â”‚           â†“                                                                  â”‚
â”‚  BÆ°á»›c 2: Má»—i giá», AWS tá»± Ä‘á»™ng apply Savings Plans discount                  â”‚
â”‚           â†“                                                                  â”‚
â”‚  BÆ°á»›c 3: Usage vÆ°á»£t $10/giá» â†’ pháº§n thá»«a tÃ­nh theo On-Demand                 â”‚
â”‚                                                                              â”‚
â”‚  VÃ Dá»¤:                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  Cam káº¿t: $10/giá»                                                   â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  Giá» 1: Usage = $8   â†’ Tráº£ $10 (cam káº¿t), $2 khÃ´ng dÃ¹ng háº¿t         â”‚    â”‚
â”‚  â”‚  Giá» 2: Usage = $10  â†’ Tráº£ $10 (Ä‘Ãºng cam káº¿t)                       â”‚    â”‚
â”‚  â”‚  Giá» 3: Usage = $15  â†’ Tráº£ $10 (cam káº¿t) + $5 (On-Demand) = $15     â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  âš ï¸ LÆ°u Ã½: Cam káº¿t pháº£i tráº£ dÃ¹ cÃ³ dÃ¹ng hay khÃ´ng!                   â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.3 Savings Plans vs Reserved Instances

| TiÃªu chÃ­ | Savings Plans | Reserved Instances |
|----------|---------------|-------------------|
| **Commitment** | $/giá» | Instance type cá»¥ thá»ƒ |
| **Flexibility** | Cao (Ä‘á»•i instance type dá»… dÃ ng) | Tháº¥p (Standard) / Trung bÃ¬nh (Convertible) |
| **Scope** | EC2 + Fargate + Lambda | Chá»‰ EC2 |
| **Quáº£n lÃ½** | ÄÆ¡n giáº£n hÆ¡n | Phá»©c táº¡p hÆ¡n |
| **Discount** | TÆ°Æ¡ng Ä‘Æ°Æ¡ng | TÆ°Æ¡ng Ä‘Æ°Æ¡ng |
| **Marketplace** | âŒ KhÃ´ng bÃ¡n Ä‘Æ°á»£c | âœ… CÃ³ (Standard RI) |

> [!TIP]
> **AWS khuyáº¿n nghá»‹ sá»­ dá»¥ng Savings Plans** thay cho Reserved Instances vÃ¬ linh hoáº¡t hÆ¡n mÃ  váº«n cÃ³ má»©c discount tÆ°Æ¡ng Ä‘Æ°Æ¡ng.

**Use Cases:**
- ğŸ”„ **Workloads thay Ä‘á»•i** - cÃ³ thá»ƒ Ä‘á»•i instance type mÃ  khÃ´ng máº¥t discount
- â˜ï¸ **Multi-service** - cháº¡y cáº£ EC2, Fargate, Lambda
- ğŸŒ **Multi-region** - vá»›i Compute Savings Plans

> **Nguá»“n**: [Savings Plans](https://aws.amazon.com/savingsplans/)

---

### 4. Spot Instances

**Sá»­ dá»¥ng EC2 capacity thá»«a cá»§a AWS** vá»›i má»©c giÃ¡ giáº£m lÃªn Ä‘áº¿n **90%** so vá»›i On-Demand. Tuy nhiÃªn, **AWS cÃ³ thá»ƒ thu há»“i (interrupt) báº¥t ká»³ lÃºc nÃ o** vá»›i 2 phÃºt cáº£nh bÃ¡o.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SPOT INSTANCES                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  ğŸ’° Discount: LÃªn Ä‘áº¿n 90% so vá»›i On-Demand                                  â”‚
â”‚  âš ï¸ Risk: CÃ³ thá»ƒ bá»‹ interrupt vá»›i 2 phÃºt warning                           â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    SPOT INSTANCE LIFECYCLE                           â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  Request â”€â”€â–¶ Running â”€â”€â–¶ Interrupted (khi AWS cáº§n capacity)         â”‚    â”‚
â”‚  â”‚                 â”‚                    â”‚                               â”‚    â”‚
â”‚  â”‚                 â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚    â”‚
â”‚  â”‚                 â”‚         â–¼                     â–¼                    â”‚    â”‚
â”‚  â”‚                 â”‚    Terminate            Hibernate/Stop             â”‚    â”‚
â”‚  â”‚                 â”‚                                                    â”‚    â”‚
â”‚  â”‚                 â””â”€â”€â–¶ User Terminate                                  â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.1 Spot Pricing

- **GiÃ¡ biáº¿n Ä‘á»™ng** theo supply vÃ  demand
- **KhÃ´ng cáº§n bidding** - báº¡n tráº£ giÃ¡ Spot hiá»‡n táº¡i (AWS Ä‘Ã£ bá» bidding tá»« 2017)
- CÃ³ thá»ƒ set **max price** - náº¿u Spot price vÆ°á»£t max, instance bá»‹ terminate
- **Spot Price History** - xem biáº¿n Ä‘á»™ng giÃ¡ trong 90 ngÃ y qua

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SPOT PRICE EXAMPLE                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  m5.large (us-east-1):                                          â”‚
â”‚                                                                  â”‚
â”‚  On-Demand:  $0.096/giá»                                         â”‚
â”‚  Spot:       $0.035/giá» (biáº¿n Ä‘á»™ng)                             â”‚
â”‚  Savings:    63%                                                 â”‚
â”‚                                                                  â”‚
â”‚  Spot price biáº¿n Ä‘á»™ng theo:                                     â”‚
â”‚  â€¢ Availability Zone                                             â”‚
â”‚  â€¢ Instance type                                                 â”‚
â”‚  â€¢ Thá»i Ä‘iá»ƒm trong ngÃ y/tuáº§n                                    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.2 Spot Instance Interruption

Khi AWS cáº§n capacity, Spot Instance sáº½ nháº­n **2-minute warning** qua:
- **EC2 metadata** - check `http://169.254.169.254/latest/meta-data/spot/termination-time`
- **CloudWatch Events / EventBridge** - trigger automation

**Interruption behavior options:**
| Option | MÃ´ táº£ | Use Case |
|--------|-------|----------|
| **Terminate** | Instance bá»‹ terminate, EBS bá»‹ xÃ³a (náº¿u DeleteOnTermination=true) | Stateless workloads |
| **Stop** | Instance stop, EBS giá»¯ láº¡i (chá»‰ EBS-backed) | Resume sau |
| **Hibernate** | RAM saved to EBS, resume nhanh (chá»‰ supported instances) | Stateful applications |

**Táº§n suáº¥t bá»‹ interrupt (Interruption Frequency):**

> [!NOTE]
> **Thá»±c táº¿**: Spot Instances **khÃ´ng thÆ°á»ng xuyÃªn** bá»‹ interrupt. AWS thá»‘ng kÃª chá»‰ khoáº£ng **< 5% instances** bá»‹ interrupt trong má»™t thÃ¡ng, tÃ¹y thuá»™c vÃ o instance type vÃ  region.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SPOT INTERRUPTION FREQUENCY                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Trung bÃ¬nh: < 5% instances bá»‹ interrupt trong 1 thÃ¡ng                      â”‚
â”‚                                                                              â”‚
â”‚  Tá»· lá»‡ thay Ä‘á»•i theo:                                                       â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“ REGION                                                                   â”‚
â”‚  â€¢ us-east-1 (phá»• biáº¿n) â†’ nhiá»u demand â†’ interrupt cao hÆ¡n                  â”‚
â”‚  â€¢ Region Ã­t popular â†’ interrupt tháº¥p hÆ¡n                                   â”‚
â”‚                                                                              â”‚
â”‚  ğŸ’» INSTANCE TYPE                                                            â”‚
â”‚  â€¢ Instance phá»• biáº¿n (m5, c5) â†’ interrupt cao hÆ¡n                           â”‚
â”‚  â€¢ Instance Ã­t dÃ¹ng (m5a, m6i) â†’ interrupt tháº¥p hÆ¡n                         â”‚
â”‚                                                                              â”‚
â”‚  ğŸ• THá»œI ÄIá»‚M                                                                â”‚
â”‚  â€¢ Peak hours â†’ interrupt cao hÆ¡n                                            â”‚
â”‚  â€¢ Off-peak, weekends â†’ interrupt tháº¥p hÆ¡n                                  â”‚
â”‚                                                                              â”‚
â”‚  ğŸ“¦ AVAILABILITY ZONE                                                        â”‚
â”‚  â€¢ AZ khÃ¡c nhau cÃ³ tá»· lá»‡ khÃ¡c nhau                                          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CÃ¡ch giáº£m nguy cÆ¡ bá»‹ interrupt:**
- âœ… Chá»n instance **Ã­t phá»• biáº¿n** (vÃ­ dá»¥: m5a thay vÃ¬ m5, hoáº·c newer generation)
- âœ… DÃ¹ng **Spot Fleet** vá»›i nhiá»u instance types + AZs (diversify)
- âœ… Chá»n **capacityOptimized** allocation strategy (AWS tá»± chá»n pool Ã­t interrupt)
- âœ… Check **Spot Instance Advisor** trong Console Ä‘á»ƒ xem tá»· lá»‡ interrupt

> ğŸ’¡ **Thá»±c táº¿**: Nhiá»u cÃ´ng ty lá»›n (Netflix, Lyft, Yelp) dÃ¹ng Spot cho pháº§n lá»›n workload vÃ  tiáº¿t kiá»‡m hÃ ng triá»‡u USD. Há» thiáº¿t káº¿ application **fault-tolerant** nÃªn khÃ´ng sá»£ bá»‹ interrupt.

#### 4.3 Spot Strategies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SPOT STRATEGIES                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  1. SPOT FLEET                                                               â”‚
â”‚     â€¢ Káº¿t há»£p nhiá»u instance types + AZs                                    â”‚
â”‚     â€¢ Tá»± Ä‘á»™ng thay tháº¿ khi bá»‹ interrupt                                     â”‚
â”‚     â€¢ Allocation strategies: lowestPrice, capacityOptimized, diversified    â”‚
â”‚                                                                              â”‚
â”‚  2. EC2 AUTO SCALING vá»›i MIXED INSTANCES POLICY                             â”‚
â”‚     â€¢ Base capacity: On-Demand (Ä‘áº£m báº£o baseline)                           â”‚
â”‚     â€¢ Scale capacity: Spot (tiáº¿t kiá»‡m chi phÃ­)                              â”‚
â”‚     â€¢ VÃ­ dá»¥: 2 On-Demand + 8 Spot                                           â”‚
â”‚                                                                              â”‚
â”‚  3. SPOT BLOCK (ÄÃ£ deprecated)                                              â”‚
â”‚     â€¢ Äáº·t Spot trong 1-6 giá», khÃ´ng bá»‹ interrupt                            â”‚
â”‚     â€¢ AWS Ä‘Ã£ ngá»«ng offering má»›i tá»« 07/2021                                  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.4 Spot Allocation Strategies

| Strategy | MÃ´ táº£ | Best For |
|----------|-------|----------|
| **lowestPrice** | Chá»n pool cÃ³ giÃ¡ tháº¥p nháº¥t | Cost optimization |
| **capacityOptimized** | Chá»n pool cÃ³ capacity cao nháº¥t (Ã­t bá»‹ interrupt) | Workloads cáº§n stability |
| **diversified** | PhÃ¢n bá»• Ä‘á»u qua cÃ¡c pools | Long-running workloads |
| **priceCapacityOptimized** | CÃ¢n báº±ng giá»¯a giÃ¡ vÃ  capacity | **Recommended** |

**Use Cases phÃ¹ há»£p vá»›i Spot:**
- ğŸ”„ **Batch processing** - cÃ³ thá»ƒ retry náº¿u bá»‹ interrupt
- ğŸ§ª **CI/CD pipelines** - build/test jobs
- ğŸ® **Gaming servers** - non-critical game servers
- ğŸ“Š **Big data analytics** - Spark, Hadoop clusters
- ğŸ¤– **Machine Learning** - training jobs (vá»›i checkpointing)
- ğŸ–¼ï¸ **Image/Video processing** - rendering, transcoding

**Use Cases KHÃ”NG phÃ¹ há»£p:**
- âŒ **Databases** - cáº§n uptime cao
- âŒ **Critical production workloads** - khÃ´ng thá»ƒ bá»‹ interrupt
- âŒ **Stateful applications** - khÃ´ng thá»ƒ máº¥t state

> **Nguá»“n**: [Spot Instances](https://aws.amazon.com/ec2/spot/)

---

### 5. Dedicated Hosts

**Physical server EC2 hoÃ n toÃ n dÃ nh riÃªng cho báº¡n**. Báº¡n cÃ³ thá»ƒ control placement cá»§a instances trÃªn physical server Ä‘Ã³.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           DEDICATED HOSTS                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Physical Server â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Host ID: h-0abc123def456789                                         â”‚    â”‚
â”‚  â”‚  Instance Family: m5                                                  â”‚    â”‚
â”‚  â”‚  Sockets: 2  â”‚  Cores: 48  â”‚  Available Instances: varies            â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚    â”‚
â”‚  â”‚  â”‚ m5.lg   â”‚ â”‚ m5.lg   â”‚ â”‚ m5.xl   â”‚ â”‚ m5.2xl  â”‚ â”‚ (empty) â”‚        â”‚    â”‚
â”‚  â”‚  â”‚ Your    â”‚ â”‚ Your    â”‚ â”‚ Your    â”‚ â”‚ Your    â”‚ â”‚         â”‚        â”‚    â”‚
â”‚  â”‚  â”‚ Instanceâ”‚ â”‚ Instanceâ”‚ â”‚ Instanceâ”‚ â”‚ Instanceâ”‚ â”‚         â”‚        â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  âš ï¸ Báº¡n control: Physical server cÃ³ bao nhiÃªu instances cháº¡y        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.1 Äáº·c Ä‘iá»ƒm

| Feature | MÃ´ táº£ |
|---------|-------|
| **Physical isolation** | Hardware khÃ´ng chia sáº» vá»›i account khÃ¡c |
| **Socket/Core visibility** | Biáº¿t chÃ­nh xÃ¡c sá»‘ sockets, cores |
| **Instance placement** | Control instances cháº¡y trÃªn host nÃ o |
| **BYOL support** | Sá»­ dá»¥ng existing licenses (Windows Server, SQL Server, SUSE, etc.) |
| **Compliance** | ÄÃ¡p á»©ng cÃ¡c yÃªu cáº§u regulatory |

#### 5.2 Instance Placement Control lÃ  gÃ¬?

**Placement** nghÄ©a lÃ  báº¡n cÃ³ thá»ƒ **chá»n chÃ­nh xÃ¡c physical server nÃ o** Ä‘á»ƒ launch EC2 instances lÃªn Ä‘Ã³.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PLACEMENT CONTROL                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  KHÃ”NG CÃ“ Dedicated Host (On-Demand/Spot thÆ°á»ng):                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                           â”‚
â”‚  Báº¡n launch EC2 â†’ AWS tá»± Ä‘á»™ng chá»n physical server cho báº¡n                  â”‚
â”‚  Báº¡n KHÃ”NG BIáº¾T instance cháº¡y trÃªn server nÃ o                               â”‚
â”‚                                                                              â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚  Launch EC2 â”€â”€â”€â”€â”€â”€â–¶ â”‚  AWS chá»n server     â”‚ â”€â”€â–¶ Instance cháº¡y á»Ÿ Ä‘Ã¢u Ä‘Ã³     â”‚
â”‚                     â”‚  (báº¡n ko control)    â”‚                                â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  CÃ“ Dedicated Host:                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                           â”‚
â”‚  Báº¡n cÃ³ physical server riÃªng vá»›i Host ID (vd: h-0abc123def)                â”‚
â”‚  Báº¡n cÃ³ thá»ƒ QUYáº¾T Äá»ŠNH instances cháº¡y trÃªn host nÃ o                         â”‚
â”‚                                                                              â”‚
â”‚  Launch EC2 â”€â”€â”€â”€â”€â”€â–¶ "Äáº·t lÃªn host h-0abc123def" â”€â”€â–¶ Instance cháº¡y á»Ÿ host Ä‘Ã³ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Táº¡i sao cáº§n Placement Control?**

| LÃ½ do | Giáº£i thÃ­ch |
|-------|------------|
| **BYOL Licensing** | License theo socket/core â†’ cáº§n biáº¿t chÃ­nh xÃ¡c instance cháº¡y trÃªn server nÃ o Ä‘á»ƒ report cho vendor |
| **Affinity** | Äáº£m báº£o instances liÃªn quan luÃ´n cháº¡y trÃªn cÃ¹ng 1 host (giáº£m latency) |
| **Compliance/Audit** | Cáº§n biáº¿t chÃ­nh xÃ¡c hardware nÃ o Ä‘ang cháº¡y data cá»§a báº¡n |
| **Performance** | Control instances khÃ´ng bá»‹ "noisy neighbor" effect |

**VÃ­ dá»¥ BYOL vá»›i Windows Server:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BYOL EXAMPLE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Dedicated Host (48 cores, 2 sockets):                          â”‚
â”‚  â”œâ”€â”€ Windows Server #1 (8 cores) âœ…                             â”‚
â”‚  â”œâ”€â”€ Windows Server #2 (8 cores) âœ…                             â”‚
â”‚  â”œâ”€â”€ Windows Server #3 (8 cores) âœ…                             â”‚
â”‚  â””â”€â”€ CÃ²n trá»‘ng 24 cores                                         â”‚
â”‚                                                                  â”‚
â”‚  â†’ Báº¡n report cho Microsoft: "TÃ´i dÃ¹ng 24 cores trÃªn 1 host"    â”‚
â”‚  â†’ Báº¡n CONTROL Ä‘Æ°á»£c viá»‡c nÃ y vÃ¬ biáº¿t chÃ­nh xÃ¡c placement        â”‚
â”‚  â†’ Tiáº¿t kiá»‡m license cost so vá»›i mua tá»« AWS                     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.3 Pricing Options

| Option | MÃ´ táº£ | Discount |
|--------|-------|----------|
| **On-Demand** | Tráº£ per-hour, khÃ´ng cam káº¿t | 0% |
| **Reservation** | Cam káº¿t 1-3 nÄƒm | LÃªn Ä‘áº¿n 70% |
| **Savings Plans** | CÃ³ thá»ƒ Ã¡p dá»¥ng | LÃªn Ä‘áº¿n 72% |

#### 5.4 Use Cases

- ğŸ“œ **Bring Your Own License (BYOL)** - sá»­ dá»¥ng licenses theo socket/core
- ğŸ”’ **Compliance requirements** - PCI DSS, HIPAA yÃªu cáº§u dedicated hardware
- ğŸ“Š **Licensing visibility** - cáº§n report chÃ­nh xÃ¡c sá»‘ cores/sockets
- ğŸ›ï¸ **Government/Financial** - quy Ä‘á»‹nh vá» data isolation

> **Nguá»“n**: [Dedicated Hosts](https://aws.amazon.com/ec2/dedicated-hosts/)

---

### 6. Dedicated Instances

**Instances cháº¡y trÃªn hardware dÃ nh riÃªng cho account cá»§a báº¡n**, nhÆ°ng cÃ³ thá»ƒ chia sáº» hardware vá»›i instances khÃ¡c trong **cÃ¹ng account**.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              DEDICATED INSTANCES vs DEDICATED HOSTS                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  DEDICATED INSTANCES                      DEDICATED HOSTS                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚  â€¢ Hardware riÃªng cho account             â€¢ Physical server riÃªng cho báº¡n   â”‚
â”‚  â€¢ KhÃ´ng control placement                â€¢ Control placement instances      â”‚
â”‚  â€¢ KhÃ´ng biáº¿t socket/core info            â€¢ Biáº¿t socket/core information    â”‚
â”‚  â€¢ KhÃ´ng support BYOL                     â€¢ Support BYOL                    â”‚
â”‚  â€¢ PhÃ­: +$2/giá»/region + instance price   â€¢ PhÃ­: Per-host pricing           â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Physical Server (AWS managed) â”‚        â”‚ Physical Server (You control) â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”  â”‚        â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚ â”‚You â”‚ â”‚You â”‚ â”‚You â”‚ â”‚    â”‚  â”‚        â”‚ â”‚You â”‚ â”‚You â”‚ â”‚You â”‚ â”‚    â”‚  â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜  â”‚        â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚ Chá»‰ instances trong account   â”‚        â”‚ Báº¡n decide instances nÃ o cháº¡y â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 6.1 Pricing

- **Dedicated Instance fee**: $2/giá»/region (tráº£ 1 láº§n cho toÃ n region, khÃ´ng pháº£i per-instance)
- **Instance price**: GiÃ¡ On-Demand cá»§a instance type

**VÃ­ dá»¥:**
- 1 m5.large dedicated instance trong 1 giá» á»Ÿ us-east-1:
  - Dedicated fee: $2.00
  - Instance price: $0.096
  - **Total: $2.096/giá»**

- 10 m5.large dedicated instances trong 1 giá»:
  - Dedicated fee: $2.00 (chá»‰ tráº£ 1 láº§n)
  - Instance price: $0.096 Ã— 10 = $0.96
  - **Total: $2.96/giá»**

#### 6.2 Use Cases

- ğŸ”’ **Hardware isolation** - khÃ´ng muá»‘n share vá»›i account khÃ¡c
- ğŸ“œ **Compliance** - nhÆ°ng khÃ´ng cáº§n BYOL

> **Nguá»“n**: [Dedicated Instances](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/dedicated-instance.html)

---

### 7. On-Demand Capacity Reservations

**Äáº·t trÆ°á»›c capacity trong má»™t AZ cá»¥ thá»ƒ** Ä‘á»ƒ Ä‘áº£m báº£o luÃ´n cÃ³ instances sáºµn sÃ ng khi cáº§n.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CAPACITY RESERVATIONS                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Äáº£m báº£o báº¡n LUÃ”N CÃ“ capacity Ä‘á»ƒ launch instances                           â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  Váº¥n Ä‘á»: Khi AWS háº¿t capacity trong má»™t AZ                          â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                         â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  âŒ KhÃ´ng cÃ³ Capacity Reservation:                                   â”‚    â”‚
â”‚  â”‚     Launch request â†’ "InsufficientInstanceCapacity" error            â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â”‚  âœ… CÃ³ Capacity Reservation:                                         â”‚    â”‚
â”‚  â”‚     Launch request â†’ Success (capacity Ä‘Ã£ Ä‘Æ°á»£c reserved)             â”‚    â”‚
â”‚  â”‚                                                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  âš ï¸ LÆ¯U Ã: Capacity Reservation KHÃ”NG tá»± Ä‘á»™ng cÃ³ discount!                 â”‚
â”‚     Pháº£i káº¿t há»£p vá»›i RI hoáº·c Savings Plans Ä‘á»ƒ cÃ³ discount                   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 7.1 Äáº·c Ä‘iá»ƒm

| Feature | MÃ´ táº£ |
|---------|-------|
| **No commitment** | Táº¡o/há»§y báº¥t ká»³ lÃºc nÃ o |
| **Immediate availability** | Reservation active ngay láº­p tá»©c |
| **AZ-specific** | Pháº£i chá»n AZ cá»¥ thá»ƒ |
| **Billing** | Tráº£ On-Demand price cho reserved capacity (dÃ¹ cÃ³ sá»­ dá»¥ng hay khÃ´ng) |

#### 7.2 Pricing

- **Capacity Reservation fee**: **$0** (khÃ´ng phÃ­ riÃªng)
- **Báº¡n tráº£**: On-Demand price cho capacity Ä‘Ã£ reserve
- **Vá»›i RI/Savings Plans**: Discount Ä‘Æ°á»£c apply náº¿u matching

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                CAPACITY RESERVATION + RI/SP                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Ká»‹ch báº£n: Reserve 5 Ã— m5.large á»Ÿ us-east-1a                    â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Option 1: Chá»‰ Capacity Reservation                       â”‚   â”‚
â”‚  â”‚ â†’ Tráº£ On-Demand price (khÃ´ng discount)                   â”‚   â”‚
â”‚  â”‚ â†’ Äáº£m báº£o capacity                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Option 2: Capacity Reservation + Zonal RI                 â”‚   â”‚
â”‚  â”‚ â†’ Discount tá»« RI + Äáº£m báº£o capacity                       â”‚   â”‚
â”‚  â”‚ â†’ Best of both worlds!                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Option 3: Capacity Reservation + Savings Plans            â”‚   â”‚
â”‚  â”‚ â†’ Discount tá»« SP + Äáº£m báº£o capacity                       â”‚   â”‚
â”‚  â”‚ â†’ Linh hoáº¡t hÆ¡n RI                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 7.3 Use Cases

- ğŸš¨ **Disaster recovery** - Ä‘áº£m báº£o capacity cho failover
- ğŸ“… **Planned events** - product launches, sales events
- ğŸ¢ **Critical workloads** - khÃ´ng thá»ƒ cháº¥p nháº­n InsufficientCapacity
- ğŸ“œ **Compliance** - yÃªu cáº§u capacity guarantee

> **Nguá»“n**: [On-Demand Capacity Reservations](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-capacity-reservations.html)

---

### 8. Free Tier

AWS cung cáº¥p Free Tier cho ngÆ°á»i dÃ¹ng má»›i:

| Resource | Free Amount | Duration |
|----------|-------------|----------|
| **EC2 t2.micro/t3.micro** | 750 giá»/thÃ¡ng | 12 thÃ¡ng Ä‘áº§u |
| **EBS General Purpose (SSD)** | 30 GB/thÃ¡ng | 12 thÃ¡ng Ä‘áº§u |
| **EBS Snapshots** | 1 GB/thÃ¡ng | 12 thÃ¡ng Ä‘áº§u |
| **Elastic IP** | 1 EIP attached | Miá»…n phÃ­ khi attached |

> [!WARNING]
> Free Tier chá»‰ Ã¡p dá»¥ng trong **12 thÃ¡ng Ä‘áº§u tiÃªn** ká»ƒ tá»« khi táº¡o AWS account. Sau Ä‘Ã³ sáº½ tÃ­nh phÃ­ On-Demand.

> **Chi tiáº¿t**: [AWS Free Tier](https://aws.amazon.com/free/)

---

### 9. Per-Second Billing (TÃ­nh phÃ­ theo giÃ¢y)

> [!IMPORTANT]
> **Tá»« thÃ¡ng 10/2017**, EC2 vÃ  EBS chuyá»ƒn tá»« per-hour sang **per-second billing**.

| Service | Billing | Minimum |
|---------|---------|---------|
| **Linux EC2** (On-Demand, Reserved, Spot) | Per-second â±ï¸ | 1 phÃºt (60 giÃ¢y) |
| **Windows EC2** | Per-hour â° | 1 giá» |
| **RHEL/SUSE EC2** | Per-hour â° | 1 giá» |
| **EBS Volumes** (provisioned storage) | Per-second | 1 phÃºt |
| **EBS Provisioned IOPS** (io1/io2) | Per-second | - |
| **EBS Snapshots** | Per-hour | - |

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PER-SECOND BILLING EXAMPLE                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Linux instance cháº¡y 5 phÃºt 30 giÃ¢y:                                â”‚
â”‚  â†’ Báº¡n tráº£ cho: 5 phÃºt 30 giÃ¢y = 330 giÃ¢y                           â”‚
â”‚                                                                      â”‚
â”‚  Linux instance cháº¡y 45 giÃ¢y:                                       â”‚
â”‚  â†’ Báº¡n tráº£ cho: 1 phÃºt (minimum)                                    â”‚
â”‚                                                                      â”‚
â”‚  Windows instance cháº¡y 5 phÃºt 30 giÃ¢y:                              â”‚
â”‚  â†’ Báº¡n tráº£ cho: 1 giá» (per-hour billing)                            â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Lá»£i Ã­ch per-second billing:**
- âœ… CI/CD pipelines - build xong terminate ngay
- âœ… Dev/Test environments - spin up/down nhanh
- âœ… Batch processing - jobs cháº¡y vÃ i phÃºt
- âœ… Auto Scaling - scale nhanh khÃ´ng lo phÃ­ thá»«a

> **Nguá»“n**: [Per-Second Billing for EC2 and EBS](https://aws.amazon.com/blogs/aws/new-per-second-billing-for-ec2-instances-and-ebs-volumes/)

---

### Tá»•ng há»£p: Chá»n Pricing Model nÃ o?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRICING MODEL DECISION TREE                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Workload cÃ³ thá»ƒ bá»‹ interrupt?                                              â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â”œâ”€â”€ CÃ³ â†’ SPOT INSTANCES (giáº£m 90%)                                         â”‚
â”‚  â”‚        â€¢ Batch processing, CI/CD, analytics                              â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â””â”€â”€ KhÃ´ng â†“                                                                 â”‚
â”‚                                                                              â”‚
â”‚  Biáº¿t trÆ°á»›c nhu cáº§u 1-3 nÄƒm?                                                â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â”œâ”€â”€ CÃ³ â†’ SAVINGS PLANS hoáº·c RESERVED INSTANCES (giáº£m 72%)                  â”‚
â”‚  â”‚        â”‚                                                                  â”‚
â”‚  â”‚        â”œâ”€â”€ Cáº§n flexibility â†’ Savings Plans                               â”‚
â”‚  â”‚        â”‚                                                                  â”‚
â”‚  â”‚        â””â”€â”€ Cáº§n bÃ¡n láº¡i RI â†’ Reserved Instances (Standard)                â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â””â”€â”€ KhÃ´ng â†“                                                                 â”‚
â”‚                                                                              â”‚
â”‚  Cáº§n hardware riÃªng?                                                        â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â”œâ”€â”€ CÃ³ + Cáº§n BYOL â†’ DEDICATED HOSTS                                        â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â”œâ”€â”€ CÃ³ + KhÃ´ng cáº§n BYOL â†’ DEDICATED INSTANCES                              â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â””â”€â”€ KhÃ´ng â†’ ON-DEMAND                                                       â”‚
â”‚                                                                              â”‚
â”‚  Cáº§n Ä‘áº£m báº£o capacity?                                                      â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â””â”€â”€ CÃ³ â†’ ThÃªm CAPACITY RESERVATIONS (káº¿t há»£p vá»›i RI/SP Ä‘á»ƒ cÃ³ discount)    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| Scenario | Recommended Option |
|----------|-------------------|
| Dev/Test, unpredictable workload | **On-Demand** |
| Production 24/7, á»•n Ä‘á»‹nh | **Savings Plans** hoáº·c **Reserved Instances** |
| Batch processing, ML training | **Spot Instances** |
| Baseline + burst | **On-Demand/RI** + **Spot** (Mixed) |
| BYOL (Windows Server, SQL Server) | **Dedicated Hosts** |
| Compliance cáº§n isolated hardware | **Dedicated Hosts** hoáº·c **Dedicated Instances** |
| Critical workload, cáº§n guarantee capacity | **Capacity Reservations** + **RI/SP** |

> **Nguá»“n**: [Amazon EC2 Pricing](https://aws.amazon.com/ec2/pricing/)

---

## Placement Groups

**Placement Groups** cho phÃ©p kiá»ƒm soÃ¡t cÃ¡ch EC2 instances Ä‘Æ°á»£c Ä‘áº·t trÃªn physical hardware Ä‘á»ƒ tá»‘i Æ°u performance hoáº·c high availability.

### 3 Loáº¡i Placement Groups

| Loáº¡i | MÃ´ táº£ | Max Instances | Use Cases |
|------|-------|---------------|----------|
| **Cluster** | Instances Ä‘áº·t **cÃ¹ng rack, cÃ¹ng AZ** | KhÃ´ng giá»›i háº¡n | HPC, Big Data, ML training |
| **Spread** | Má»—i instance trÃªn **hardware riÃªng biá»‡t** | 7 per AZ | Critical apps, isolated failures |
| **Partition** | Chia thÃ nh partitions, má»—i partition trÃªn rack riÃªng | 7 partitions per AZ | Hadoop, Cassandra, Kafka |

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        PLACEMENT GROUPS                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  1. CLUSTER                    2. SPREAD                 3. PARTITION       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Same Rack  â”‚               â”‚ Rack1 Rack2 â”‚           â”‚ Part1 Part2 â”‚    â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”‚               â”‚ â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”‚           â”‚ â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”‚    â”‚
â”‚  â”‚ â”‚EC2â”‚ â”‚EC2â”‚ â”‚               â”‚ â”‚EC2â”‚ â”‚EC2â”‚ â”‚           â”‚ â”‚EC2â”‚ â”‚EC2â”‚ â”‚    â”‚
â”‚  â”‚ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â”‚               â”‚ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â”‚           â”‚ â”‚EC2â”‚ â”‚EC2â”‚ â”‚    â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”‚               â”‚ Rack3 Rack4 â”‚           â”‚ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â”‚    â”‚
â”‚  â”‚ â”‚EC2â”‚ â”‚EC2â”‚ â”‚               â”‚ â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”‚           â”‚ (cÃ¹ng (cÃ¹ng â”‚    â”‚
â”‚  â”‚ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â”‚               â”‚ â”‚EC2â”‚ â”‚EC2â”‚ â”‚           â”‚  rack) rack) â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚  Low latency                   High availability         Distributed        â”‚
â”‚  High throughput               Isolated failures         Big Data           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1. Cluster Placement Group

- Táº¥t cáº£ instances náº±m trÃªn **cÃ¹ng rack trong cÃ¹ng AZ**
- **Low latency** (< 10 microseconds) vÃ  **high throughput** (10-25 Gbps)
- âš ï¸ **Risk**: Náº¿u rack fail â†’ táº¥t cáº£ fail

**Use Cases:**
- HPC (High Performance Computing)
- Big Data jobs cáº§n network nhanh
- ML/AI distributed training

### 2. Spread Placement Group

- Má»—i instance trÃªn **hardware riÃªng biá»‡t** (khÃ¡c rack)
- **Max 7 instances per AZ** (cá»© nhÃ¢n vá»›i sá»‘ AZ)
- Giáº£m risk correlated failures

**Use Cases:**
- Critical applications
- Database replicas
- High availability yÃªu cáº§u isolate failures

### 3. Partition Placement Group

- Chia instances thÃ nh **partitions** (max 7 per AZ)
- Má»—i partition náº±m trÃªn **rack riÃªng**
- Instances trong cÃ¹ng partition chia sáº» rack

**Use Cases:**
- **Hadoop** (HDFS), **Cassandra**, **Kafka** - distributed big data
- Cáº§n partition-awareness Ä‘á»ƒ Ä‘áº·t replicas khÃ¡c partition

### Rack lÃ  gÃ¬?

**Rack** = tá»§/khung kim loáº¡i trong data center chá»©a nhiá»u servers xáº¿p chá»“ng lÃªn nhau:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         RACK (Tá»§ mÃ¡y chá»§)      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Server 1 (EC2)        â”‚   â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚  â† CÃ¡c servers chia sáº»:
â”‚   â”‚  Server 2 (EC2)        â”‚   â”‚    â€¢ CÃ¹ng nguá»“n Ä‘iá»‡n
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚    â€¢ CÃ¹ng network switch
â”‚   â”‚  Server 3 (EC2)        â”‚   â”‚    â€¢ CÃ¹ng há»‡ thá»‘ng lÃ m mÃ¡t
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚   â”‚  Network Switch        â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> âš ï¸ **Single point of failure**: Náº¿u rack máº¥t Ä‘iá»‡n/switch há»ng â†’ táº¥t cáº£ servers trong rack bá»‹ áº£nh hÆ°á»Ÿng

### CÃ¡ch cáº¥u hÃ¬nh Placement Groups

**BÆ°á»›c 1: Táº¡o Placement Group**
```
Console: EC2 â†’ Network & Security â†’ Placement Groups â†’ Create
CLI:     aws ec2 create-placement-group --group-name my-group --strategy cluster
```

**BÆ°á»›c 2: GÃ¡n vÃ o EC2 Instance**
```
Launch Instance â†’ Advanced Details â†’ Placement group â†’ Chá»n group Ä‘Ã£ táº¡o
```

**BÆ°á»›c 3: DÃ¹ng vá»›i Launch Template (cho ASG)**
```
Create Launch Template â†’ Advanced Details â†’ Placement group name
```

> âš ï¸ **Instance Ä‘ang cháº¡y** khÃ´ng thá»ƒ add vÃ o Placement Group â†’ pháº£i **stop** trÆ°á»›c hoáº·c táº¡o má»›i

### LÆ°u Ã½ quan trá»ng

| Yáº¿u tá»‘ | Chi tiáº¿t |
|--------|----------|
| **Táº¡o khi nÃ o** | Chá»‰ cÃ³ thá»ƒ add instances khi create/modify |
| **Instance types** | NÃªn dÃ¹ng **cÃ¹ng instance type** trong Cluster |
| **Capacity errors** | Cluster cÃ³ thá»ƒ gáº·p `InsufficientCapacity` - launch táº¥t cáº£ cÃ¹ng lÃºc Ä‘á»ƒ trÃ¡nh |
| **Launch Template** | Há»— trá»£ Placement Groups (Launch Configuration khÃ´ng há»— trá»£) |

> **Nguá»“n**: [Placement Groups](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/placement-groups.html)

---

## CÃ¡ch truy cáº­p EC2

### Quáº£n lÃ½ EC2 (Management)

1. **AWS Management Console** - Giao diá»‡n web
2. **AWS CLI** - Command line interface
3. **AWS SDKs** - TÃ­ch há»£p vÃ o code (Python/Boto3, JavaScript, Java, etc.)
4. **CloudFormation** - Infrastructure as Code
5. **AWS Tools for PowerShell**

### Connect to Instance (SSH/Shell vÃ o EC2)

CÃ³ 3 cÃ¡ch Ä‘á»ƒ connect vÃ o EC2 instance:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              EC2 Console â†’ Select Instance â†’ Connect                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚   SSH Client      â”‚  â”‚ EC2 Instance      â”‚  â”‚ Session Manager   â”‚       â”‚
â”‚   â”‚   (Manual)        â”‚  â”‚ Connect           â”‚  â”‚                   â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                              â”‚
â”‚          Tab 1                  Tab 2                  Tab 3                â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1. SSH Client (Truyá»n thá»‘ng)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SSH Client - Flow                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   Báº¡n â”€â”€â”€â”€ SSH (port 22) â”€â”€â”€â”€â–º EC2 Instance                                 â”‚
â”‚        â”‚                           â–²                                         â”‚
â”‚        â”‚                           â”‚                                         â”‚
â”‚    Private key               Security Group                                  â”‚
â”‚    (your machine)            pháº£i má»Ÿ port 22                                â”‚
â”‚                                                                              â”‚
â”‚   Command: ssh -i "key.pem" ec2-user@<public-ip>                            â”‚
â”‚                                                                              â”‚
â”‚   YÃŠU Cáº¦U:                                                                  â”‚
â”‚   â€¢ Key pair (.pem file)                                                    â”‚
â”‚   â€¢ Security Group má»Ÿ port 22                                               â”‚
â”‚   â€¢ EC2 cÃ³ public IP hoáº·c báº¡n á»Ÿ cÃ¹ng VPC                                   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. EC2 Instance Connect (SSH cÃ³ AWS quáº£n lÃ½ key)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EC2 Instance Connect - Flow                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   Báº¡n áº¥n "Connect" trong Console:                                           â”‚
â”‚                                                                              â”‚
â”‚   Step 1: AWS táº¡o temporary SSH key (valid 60 giÃ¢y)                         â”‚
â”‚   Step 2: AWS push public key vÃ o ~/.ssh/authorized_keys                    â”‚
â”‚   Step 3: Browser SSH tháº³ng vÃ o EC2 qua port 22                             â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      SSH (port 22)       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚   â”‚  Browser        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  EC2 Instance   â”‚          â”‚
â”‚   â”‚  (terminal)     â”‚                          â”‚                 â”‚          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                              â”‚
â”‚   YÃŠU Cáº¦U:                                                                  â”‚
â”‚   â€¢ Port 22 PHáº¢I má»Ÿ trong Security Group                                    â”‚
â”‚   â€¢ EC2 cÃ³ public IP                                                        â”‚
â”‚   â€¢ Váº«n lÃ  SSH, chá»‰ lÃ  AWS quáº£n lÃ½ key cho báº¡n                             â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. Session Manager (KHÃ”NG dÃ¹ng SSH - Recommended!)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Session Manager - Flow                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚   Báº¡n áº¥n "Connect" vá»›i Session Manager:                                     â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚   â”‚  Browser/CLI    â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚  SSM Service    â”‚                         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                          â”‚                                   â”‚
â”‚                                          â–¼                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚   â”‚  EC2 Instance   â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  SSM Agent      â”‚                         â”‚
â”‚   â”‚  (NO port open) â”‚  polling  â”‚  (trong EC2)    â”‚                         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                                              â”‚
â”‚   KHÃ”NG cáº§n:                                                                â”‚
â”‚   âœ… SSH keys                                                               â”‚
â”‚   âœ… Port 22 má»Ÿ                                                             â”‚
â”‚   âœ… Public IP                                                              â”‚
â”‚   âœ… Bastion host                                                           â”‚
â”‚                                                                              â”‚
â”‚   Cáº¦N:                                                                      â”‚
â”‚   â€¢ SSM Agent Ä‘ang cháº¡y (cÃ³ sáºµn trÃªn Amazon Linux, Windows Server)         â”‚
â”‚   â€¢ IAM Role vá»›i AmazonSSMManagedInstanceCore policy                        â”‚
â”‚   â€¢ Agent cÃ³ Ä‘Æ°á»ng Ä‘i Ä‘áº¿n SSM Service (internet hoáº·c VPC Endpoint)         â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### So sÃ¡nh 3 phÆ°Æ¡ng thá»©c

| | SSH Client | EC2 Instance Connect | Session Manager |
|--|------------|---------------------|-----------------|
| **Báº£n cháº¥t** | SSH thá»§ cÃ´ng | SSH (AWS quáº£n lÃ½ key) | SSM (khÃ´ng dÃ¹ng SSH) |
| **Port 22?** | âœ… Pháº£i má»Ÿ | âœ… Pháº£i má»Ÿ | âŒ **KhÃ´ng cáº§n** |
| **SSH Key?** | âœ… Cáº§n .pem file | âŒ AWS tá»± táº¡o | âŒ KhÃ´ng cáº§n |
| **Public IP?** | âœ… Cáº§n | âœ… Cáº§n | âŒ **KhÃ´ng cáº§n** |
| **IAM Role?** | âŒ KhÃ´ng cáº§n | âŒ KhÃ´ng cáº§n | âœ… Cáº§n |
| **SSM Agent?** | âŒ KhÃ´ng cáº§n | âŒ KhÃ´ng cáº§n | âœ… Cáº§n |
| **Logging** | KhÃ´ng cÃ³ | KhÃ´ng cÃ³ | âœ… **Full session logging** |
| **Private subnet?** | âŒ KhÃ³ (cáº§n bastion) | âŒ KhÃ³ | âœ… **Hoáº¡t Ä‘á»™ng tá»‘t** |
| **Security** | Phá»¥ thuá»™c key mgmt | KhÃ¡ tá»‘t | âœ… **Tá»‘t nháº¥t** |

> [!TIP]
> **Session Manager lÃ  cÃ¡ch recommended** vÃ¬:
> - KhÃ´ng cáº§n má»Ÿ port â†’ Attack surface = 0
> - KhÃ´ng cáº§n quáº£n lÃ½ SSH keys
> - Full audit logging vá»›i CloudTrail/CloudWatch
> - Hoáº¡t Ä‘á»™ng tá»‘t cho private subnet

---

## CÃ¡c dá»‹ch vá»¥ liÃªn quan

### 1. EC2 Auto Scaling

Tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh sá»‘ lÆ°á»£ng EC2 instances dá»±a trÃªn demand.

**LÆ°u Ã½ quan trá»ng:** Auto Scaling **chá»‰ thÃªm/bá»›t instances** - khÃ´ng tá»± routing traffic. Cáº§n káº¿t há»£p vá»›i **ELB** Ä‘á»ƒ phÃ¢n phá»‘i requests:

```
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     Users â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶   â”‚  Load Balancer  â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚ distributes traffic
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼                   â–¼                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ EC2 #1  â”‚         â”‚ EC2 #2  â”‚         â”‚ EC2 #3  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                         Auto Scaling Group
                      (manages instance count)
```

| Component | Nhiá»‡m vá»¥ |
|-----------|----------|
| **Auto Scaling** | ThÃªm/bá»›t instances dá»±a trÃªn metrics |
| **ELB** | Routing requests Ä‘áº¿n cÃ¡c instances healthy |

**CÃ¡ch hoáº¡t Ä‘á»™ng:**
- Äá»‹nh nghÄ©a **Auto Scaling Group (ASG)** vá»›i min/max/desired capacity
- Sá»­ dá»¥ng **scaling policies** Ä‘á»ƒ trigger scale out/in dá»±a trÃªn CloudWatch metrics (CPU, memory, network I/O)
- Tá»± Ä‘á»™ng thay tháº¿ instances bá»‹ unhealthy

**TÃ­nh nÄƒng chÃ­nh:**
| Feature | MÃ´ táº£ |
|---------|-------|
| **Dynamic Scaling** | Scale dá»±a trÃªn metrics real-time |
| **Predictive Scaling** | Dá»± Ä‘oÃ¡n traffic vÃ  scale trÆ°á»›c |
| **Scheduled Scaling** | Scale theo lá»‹ch Ä‘á»‹nh sáºµn |
| **Health Checks** | EC2 health checks hoáº·c ELB health checks |

**Mixed Instances Policy:**
- Káº¿t há»£p **On-Demand + Spot Instances** trong cÃ¹ng ASG
- Äáº·t base capacity vá»›i On-Demand, scale thÃªm vá»›i Spot Ä‘á»ƒ tiáº¿t kiá»‡m chi phÃ­

**Instance Identification:**
- Instances **khÃ´ng cÃ³ tÃªn cá»‘ Ä‘á»‹nh** - Ä‘Æ°á»£c identify báº±ng Instance ID (`i-0abc123def`)
- CÃ³ thá»ƒ config **Name tag** trong Launch Template (táº¥t cáº£ instances cÃ¹ng tag, phÃ¢n biá»‡t báº±ng ID)
- IP thay Ä‘á»•i má»—i láº§n launch â†’ **dÃ¹ng ELB DNS** lÃ m entry point, khÃ´ng dá»±a vÃ o IP

**Chi phÃ­ (Pricing):**

| ThÃ nh pháº§n | Chi phÃ­ |
|------------|---------|
| Auto Scaling service | **Miá»…n phÃ­** |
| EC2 instances | Tráº£ theo instances Ä‘ang cháº¡y |
| ELB | Theo giá» + data processed |
| CloudWatch | Metrics cÆ¡ báº£n miá»…n phÃ­ |

*Chiáº¿n lÆ°á»£c tiáº¿t kiá»‡m:* Base capacity vá»›i On-Demand/Reserved, scale thÃªm vá»›i **Spot** (giáº£m Ä‘áº¿n 90%).

> **Nguá»“n**: [Amazon EC2 Auto Scaling Pricing](https://aws.amazon.com/ec2/autoscaling/pricing/)

---

### 2. Elastic Load Balancing (ELB)

PhÃ¢n phá»‘i traffic Ä‘áº¿n nhiá»u EC2 instances, containers, hoáº·c IP addresses.

**CÃ¡c loáº¡i Load Balancer:**

| Loáº¡i | Layer | Use Cases |
|------|-------|-----------|
| **Application Load Balancer (ALB)** | Layer 7 (HTTP/HTTPS) | Web applications, microservices, path-based routing |
| **Network Load Balancer (NLB)** | Layer 4 (TCP/UDP) | Ultra-low latency, millions of requests/second |
| **Gateway Load Balancer (GWLB)** | Layer 3 | Deploy vÃ  scale virtual appliances (firewalls, IDS/IPS) |
| **Classic Load Balancer** | Layer 4/7 | Legacy, khÃ´ng khuyáº¿n khÃ­ch cho á»©ng dá»¥ng má»›i |

**TÃ­ch há»£p vá»›i Auto Scaling:**
- Instances trong ASG tá»± Ä‘á»™ng Ä‘Æ°á»£c **register/deregister** vá»›i load balancer
- ELB health checks cÃ³ thá»ƒ trigger ASG thay tháº¿ unhealthy instances
- Traffic Ä‘Æ°á»£c phÃ¢n phá»‘i Ä‘á»u báº±ng **least outstanding requests** algorithm

> **Nguá»“n**: [Use ELB with Auto Scaling](https://docs.aws.amazon.com/autoscaling/ec2/userguide/autoscaling-load-balancer.html)

---

### 3. Amazon CloudWatch

Dá»‹ch vá»¥ monitoring vÃ  observability cho AWS resources.

**Metrics cho EC2:**
- **CPU Utilization**, Network In/Out, Disk Read/Write
- **Status Checks**: Instance status vÃ  system status
- Custom metrics (memory, disk space) qua CloudWatch Agent

**Metrics cho Auto Scaling:**
- `GroupDesiredCapacity`, `GroupInServiceInstances`
- `GroupPendingInstances`, `GroupTerminatingInstances`
- Predictive scaling metrics

**TÃ­nh nÄƒng:**
| Feature | MÃ´ táº£ |
|---------|-------|
| **CloudWatch Alarms** | Trigger actions khi metric vÆ°á»£t ngÆ°á»¡ng |
| **CloudWatch Logs** | Collect vÃ  store log files |
| **CloudWatch Dashboards** | Visualize metrics |
| **CloudWatch Events/EventBridge** | React to state changes |

> **Nguá»“n**: [CloudWatch metrics for EC2 Auto Scaling](https://docs.aws.amazon.com/autoscaling/ec2/userguide/ec2-auto-scaling-metrics.html)

---

### 4. AWS Systems Manager

Quáº£n lÃ½ EC2 instances vÃ  on-premises servers at scale.

**TÃ­nh nÄƒng chÃ­nh:**

| Feature | MÃ´ táº£ |
|---------|-------|
| **Session Manager** | SSH/RDP khÃ´ng cáº§n má»Ÿ ports, khÃ´ng cáº§n bastion host |
| **Run Command** | Cháº¡y scripts trÃªn nhiá»u instances cÃ¹ng lÃºc |
| **Patch Manager** | Tá»± Ä‘á»™ng patch OS vÃ  applications |
| **Parameter Store** | LÆ°u trá»¯ configuration data, secrets |
| **State Manager** | Maintain consistent configuration |
| **Inventory** | Collect metadata tá»« instances |

**YÃªu cáº§u:**
- **SSM Agent** pháº£i Ä‘Æ°á»£c cÃ i Ä‘áº·t trÃªn instance (cÃ³ sáºµn trÃªn Amazon Linux, Ubuntu, Windows AMIs)
- Instance cáº§n **IAM role** vá»›i policy `AmazonSSMManagedInstanceCore`

---

### 5. EC2 Image Builder

Tá»± Ä‘á»™ng táº¡o, test, vÃ  distribute custom AMIs hoáº·c container images.

**Pipeline workflow:**
1. **Base Image** â†’ Chá»n source AMI (Amazon Linux, Windows, Ubuntu, etc.)
2. **Components** â†’ ThÃªm software, configurations, security hardening
3. **Test** â†’ Cháº¡y automated tests Ä‘á»ƒ validate image
4. **Distribute** â†’ Copy AMI Ä‘áº¿n cÃ¡c regions, share vá»›i accounts khÃ¡c

**Lá»£i Ã­ch:**
- **Automated patching**: Tá»± Ä‘á»™ng rebuild images khi cÃ³ security updates
- **Compliance**: Ãp dá»¥ng CIS Benchmarks, STIG hardening
- **Version control**: Track changes qua semantic versioning
- **Integration**: TÃ­ch há»£p vá»›i Systems Manager Parameter Store

**Pricing:** Chá»‰ tráº£ tiá»n cho underlying resources (EC2, EBS, S3) - khÃ´ng cÃ³ phÃ­ riÃªng cho Image Builder.

> **Nguá»“n**: [EC2 Image Builder Features](https://aws.amazon.com/image-builder/features/)

---

### 6. Amazon EBS (Elastic Block Store)

Block-level storage volumes cho EC2 instances.

**Volume Types:**

| Type | Use Case | Max IOPS | Max Throughput |
|------|----------|----------|----------------|
| **gp3** (General Purpose SSD) | Most workloads | 16,000 | 1,000 MB/s |
| **gp2** (General Purpose SSD) | Boot volumes, dev/test | 16,000 | 250 MB/s |
| **io2/io2 Block Express** | Critical databases | 256,000 | 4,000 MB/s |
| **st1** (Throughput HDD) | Big data, log processing | 500 | 500 MB/s |
| **sc1** (Cold HDD) | Infrequent access | 250 | 250 MB/s |

**TÃ­nh nÄƒng:**
- **Snapshots**: Backup incremental, lÆ°u trÃªn S3
- **Encryption**: Encrypt at rest vÃ  in transit
- **Multi-Attach**: Attach io1/io2 volume Ä‘áº¿n nhiá»u instances (cÃ¹ng AZ)
- **Elastic Volumes**: Thay Ä‘á»•i size, type, IOPS mÃ  khÃ´ng downtime

---

### 7. Amazon VPC (Virtual Private Cloud)

Network isolation cho EC2 instances.

| Component | MÃ´ táº£ |
|-----------|-------|
| **Subnets** | Public (cÃ³ Internet Gateway) hoáº·c Private |
| **Route Tables** | Äiá»u hÆ°á»›ng traffic |
| **Internet Gateway** | Cho phÃ©p access Internet |
| **NAT Gateway** | Private instances access Internet (outbound only) |
| **VPC Endpoints** | Truy cáº­p AWS services mÃ  khÃ´ng qua Internet |

---

### 8. AWS Backup

Centralized backup cho EC2 instances vÃ  EBS volumes.

- **Backup Plans**: Äá»‹nh nghÄ©a schedule, retention, lifecycle
- **Cross-region/Cross-account**: Copy backups Ä‘áº¿n regions/accounts khÃ¡c
- **Point-in-time recovery**: Restore Ä‘áº¿n thá»i Ä‘iá»ƒm cá»¥ thá»ƒ

---

## EC2 Hibernate

### Hibernate lÃ  gÃ¬?

**Hibernate** = LÆ°u toÃ n bá»™ RAM vÃ o EBS root volume, sau Ä‘Ã³ resume láº¡i nhÆ° chÆ°a tá»«ng táº¯t.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SO SÃNH STOP vs HIBERNATE                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  STOP (Táº¯t thÆ°á»ng):                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                           â”‚
â”‚  EC2 Running â†’ Stop â†’ RAM bá»‹ XÃ“A Sáº CH                                       â”‚
â”‚                     â†’ Start láº¡i â†’ Pháº£i khá»Ÿi Ä‘á»™ng OS tá»« Ä‘áº§u                  â”‚
â”‚                     â†’ Applications pháº£i start láº¡i                            â”‚
â”‚                     â†’ Boot time: 1-2 phÃºt                                   â”‚
â”‚                                                                              â”‚
â”‚  HIBERNATE (Ngá»§ Ä‘Ã´ng):                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                        â”‚
â”‚  EC2 Running â†’ Hibernate â†’ RAM Ä‘Æ°á»£c LÆ¯U vÃ o EBS                             â”‚
â”‚                          â†’ Resume â†’ RAM Ä‘Æ°á»£c náº¡p láº¡i tá»« EBS                 â”‚
â”‚                          â†’ Tiáº¿p tá»¥c tá»« Ä‘Ãºng chá»— Ä‘ang cháº¡y                   â”‚
â”‚                          â†’ Resume time: VÃ i giÃ¢y!                           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### CÃ¡ch hoáº¡t Ä‘á»™ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HIBERNATE WORKFLOW                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. HIBERNATE                                                    â”‚
â”‚     EC2 (Running)                                                â”‚
â”‚     â”œâ”€â”€ RAM: 16GB data                                          â”‚
â”‚     â”œâ”€â”€ App Ä‘ang cháº¡y                                           â”‚
â”‚     â””â”€â”€ [Hibernate] â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚                           â–¼                                      â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚     â”‚  EBS Root Volume (Encrypted)         â”‚                     â”‚
â”‚     â”‚  â”œâ”€â”€ OS files                        â”‚                     â”‚
â”‚     â”‚  â””â”€â”€ RAM dump (16GB) â† LÆ°u táº¡i Ä‘Ã¢y! â”‚                     â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                                                                  â”‚
â”‚  2. RESUME (Start)                                               â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚     â”‚  EBS Root Volume (Encrypted)         â”‚                     â”‚
â”‚     â”‚  â””â”€â”€ RAM dump (16GB) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”                  â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                  â”‚
â”‚                                              â–¼                   â”‚
â”‚     EC2 (Running)                                                â”‚
â”‚     â”œâ”€â”€ RAM: 16GB â† Náº¡p láº¡i tá»« EBS                              â”‚
â”‚     â”œâ”€â”€ App TIáº¾P Tá»¤C cháº¡y tá»« Ä‘Ãºng chá»— cÅ©                       â”‚
â”‚     â””â”€â”€ KhÃ´ng cáº§n boot OS láº¡i!                                  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### YÃªu cáº§u (Requirements)

| YÃªu cáº§u | Chi tiáº¿t |
|---------|----------|
| **Instance types** | Há»— trá»£: C, I, M, R, T families (khÃ´ng pháº£i táº¥t cáº£) |
| **RAM size** | Tá»‘i Ä‘a **150 GB** |
| **Root volume** | Pháº£i lÃ  **EBS** (khÃ´ng pháº£i Instance Store) |
| **EBS Encryption** | Root volume **pháº£i Ä‘Æ°á»£c mÃ£ hÃ³a** |
| **EBS size** | Root volume pháº£i **Ä‘á»§ lá»›n** Ä‘á»ƒ chá»©a RAM dump |
| **Thá»i gian hibernate** | Tá»‘i Ä‘a **60 ngÃ y** |
| **OS support** | Amazon Linux 2, Ubuntu, Windows |

### Use Cases

| Use Case | Giáº£i thÃ­ch |
|----------|------------|
| **Long-running processes** | Táº¡m dá»«ng mÃ  khÃ´ng máº¥t state (ML training, simulations) |
| **Fast boot** | Resume nhanh hÆ¡n cold start (vÃ i giÃ¢y vs vÃ i phÃºt) |
| **Save costs** | Hibernate khi khÃ´ng dÃ¹ng, khÃ´ng tráº£ tiá»n compute |
| **Pre-warmed instances** | Cache, connection pools sáºµn sÃ ng khi resume |

### LÆ°u Ã½ quan trá»ng

```
âš ï¸ CHÃš Ã:
â”œâ”€â”€ Hibernate KHÃ”NG há»— trá»£ cho Spot Instances (chá»‰ On-Demand)
â”œâ”€â”€ Khi hibernate, KHÃ”NG tÃ­nh tiá»n EC2 (váº«n tÃ­nh tiá»n EBS vÃ  EIP)
â”œâ”€â”€ EBS root volume PHáº¢I Ä‘Æ°á»£c encrypt (báº¯t buá»™c!)
â””â”€â”€ Hibernate > 60 ngÃ y â†’ AWS sáº½ tá»± Ä‘á»™ng stop instance
```

> ğŸ’¡ **Exam tip:** Hibernate = LÆ°u RAM vÃ o EBS â†’ Resume nhanh, giá»¯ nguyÃªn state!

---

## Best Practices

1. **Chá»n Ä‘Ãºng instance type** - Sá»­ dá»¥ng [AWS Compute Optimizer](https://aws.amazon.com/compute-optimizer/) Ä‘á»ƒ nháº­n recommendations
2. **Sá»­ dá»¥ng Auto Scaling** - Tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh capacity theo demand
3. **Táº­n dá»¥ng Spot Instances** - Cho workloads cÃ³ thá»ƒ bá»‹ interrupt
4. **Right-sizing** - ThÆ°á»ng xuyÃªn review vÃ  Ä‘iá»u chá»‰nh instance size
5. **Security Groups** - Chá»‰ má»Ÿ nhá»¯ng ports cáº§n thiáº¿t (principle of least privilege)
6. **Multi-AZ deployment** - Triá»ƒn khai instances trÃªn nhiá»u Availability Zones Ä‘á»ƒ Ä‘áº£m báº£o high availability

---

## Tham kháº£o thÃªm

- [EC2 User Guide](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/)
- [EC2 Instance Types Guide](https://docs.aws.amazon.com/ec2/latest/instancetypes/instance-types.html)
- [EC2 Cost and Capacity Optimization](https://aws.amazon.com/ec2/cost-and-capacity/)
- [Getting Started with EC2](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EC2_GetStarted.html)
