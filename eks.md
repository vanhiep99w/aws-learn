# Amazon EKS (Elastic Kubernetes Service)

## ğŸ“– Tá»•ng quan

**Amazon EKS (Elastic Kubernetes Service)** lÃ  dá»‹ch vá»¥ Kubernetes Ä‘Æ°á»£c AWS quáº£n lÃ½ hoÃ n toÃ n (fully managed). EKS giÃºp báº¡n cháº¡y Kubernetes trÃªn AWS mÃ  khÃ´ng cáº§n cÃ i Ä‘áº·t, váº­n hÃ nh vÃ  maintain Kubernetes control plane.

### Kubernetes lÃ  gÃ¬?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      KUBERNETES (K8s)                                â”‚
â”‚                                                                       â”‚
â”‚   = Há»‡ thá»‘ng ORCHESTRATION cho containers                            â”‚
â”‚   = "Bá»™ nÃ£o" Ä‘iá»u khiá»ƒn hÃ ng ngÃ n containers                         â”‚
â”‚   = Open-source, Ä‘Æ°á»£c Google phÃ¡t triá»ƒn ban Ä‘áº§u                      â”‚
â”‚                                                                       â”‚
â”‚   Kubernetes lÃ m gÃ¬?                                                  â”‚
â”‚   â”œâ”€â”€ Scheduling: Container nÃ o cháº¡y á»Ÿ Ä‘Ã¢u?                          â”‚
â”‚   â”œâ”€â”€ Scaling: Tá»± Ä‘á»™ng scale containers lÃªn/xuá»‘ng                    â”‚
â”‚   â”œâ”€â”€ Healing: Restart containers bá»‹ lá»—i                             â”‚
â”‚   â”œâ”€â”€ Load Balancing: PhÃ¢n phá»‘i traffic                              â”‚
â”‚   â”œâ”€â”€ Service Discovery: Containers tÃ¬m tháº¥y nhau                    â”‚
â”‚   â””â”€â”€ Rolling Updates: Deploy version má»›i khÃ´ng downtime             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Táº¡i sao K8s phá»• biáº¿n?

| TiÃªu chÃ­ | Docker Swarm | Kubernetes |
|----------|--------------|------------|
| **Äá»™ phá»©c táº¡p** | âœ… ÄÆ¡n giáº£n | âŒ Phá»©c táº¡p hÆ¡n |
| **TÃ­nh nÄƒng** | CÆ¡ báº£n | âœ… ToÃ n diá»‡n |
| **Há»‡ sinh thÃ¡i** | Nhá» | âœ… Khá»•ng lá»“ (CNCF) |
| **Enterprise adoption** | Ãt | âœ… 96% Fortune 500 |
| **Community** | Nhá» | âœ… Lá»›n nháº¥t |

> ğŸ’¡ K8s Ä‘Ã£ trá»Ÿ thÃ nh **industry standard** cho container orchestration!

---

## ğŸ¯ EKS vs Tá»± cÃ i Kubernetes

### Tá»± quáº£n lÃ½ Kubernetes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SELF-MANAGED KUBERNETES                            â”‚
â”‚                                                                       â”‚
â”‚   Báº¡n pháº£i lo:                                                       â”‚
â”‚   â”œâ”€â”€ CÃ i Ä‘áº·t K8s cluster (kubeadm, kops, kubespray)                â”‚
â”‚   â”œâ”€â”€ Setup etcd cluster (distributed state store)                  â”‚
â”‚   â”œâ”€â”€ Cáº¥u hÃ¬nh API server, scheduler, controller-manager            â”‚
â”‚   â”œâ”€â”€ Setup network plugin (Calico, Flannel, Weave)                 â”‚
â”‚   â”œâ”€â”€ TLS certificates cho táº¥t cáº£ components                        â”‚
â”‚   â”œâ”€â”€ Upgrade K8s version (cÃ³ thá»ƒ breaking changes!)                â”‚
â”‚   â”œâ”€â”€ Backup & restore etcd                                         â”‚
â”‚   â”œâ”€â”€ High Availability cho control plane                           â”‚
â”‚   â””â”€â”€ Security patches                                               â”‚
â”‚                                                                       â”‚
â”‚   â° Setup: 1-2 tuáº§n                                                 â”‚
â”‚   ğŸ‘¨â€ğŸ’» Cáº§n: Senior DevOps/Platform Engineer                           â”‚
â”‚   ğŸ’° Chi phÃ­ áº©n: Operations, maintenance, on-call                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Amazon EKS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AMAZON EKS                                    â”‚
â”‚                                                                       â”‚
â”‚   AWS lo (Control Plane):                     Báº¡n lo (Data Plane):  â”‚
â”‚   â”œâ”€â”€ API Server                              â”œâ”€â”€ Worker nodes      â”‚
â”‚   â”œâ”€â”€ etcd cluster                            â”œâ”€â”€ Applications      â”‚
â”‚   â”œâ”€â”€ Scheduler                               â”œâ”€â”€ Pods, Services    â”‚
â”‚   â”œâ”€â”€ Controller Manager                      â””â”€â”€ Container images  â”‚
â”‚   â”œâ”€â”€ Updates & patches                                              â”‚
â”‚   â”œâ”€â”€ HA across 3 AZs                                                â”‚
â”‚   â””â”€â”€ Backup & security                                              â”‚
â”‚                                                                       â”‚
â”‚   â° Setup: 15-30 phÃºt                                               â”‚
â”‚   ğŸ‘¨â€ğŸ’» Cáº§n: Biáº¿t K8s concepts                                         â”‚
â”‚   ğŸ’° Chi phÃ­: $0.10/hour cho control plane + worker nodes           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### So sÃ¡nh tá»•ng quan

| TiÃªu chÃ­ | Self-managed K8s | Amazon EKS |
|----------|------------------|------------|
| **Control plane** | Báº¡n quáº£n lÃ½ | AWS quáº£n lÃ½ |
| **High Availability** | Tá»± setup | Built-in (3 AZs) |
| **Upgrades** | Phá»©c táº¡p, rá»§i ro | 1-click hoáº·c managed |
| **Integration AWS** | Tá»± cáº¥u hÃ¬nh | Native (ALB, IAM, VPC) |
| **Chi phÃ­ control plane** | EC2 costs | $0.10/hour |
| **Compliance** | Tá»± chá»©ng minh | SOC, PCI, HIPAA ready |

---

## ğŸ—ï¸ Kiáº¿n trÃºc EKS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AWS CLOUD                                    â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    EKS CONTROL PLANE                         â”‚    â”‚
â”‚  â”‚                   (AWS Managed - áº¨N)                         â”‚    â”‚
â”‚  â”‚                                                              â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚    â”‚
â”‚  â”‚  â”‚ API      â”‚  â”‚ etcd     â”‚  â”‚ Schedulerâ”‚                   â”‚    â”‚
â”‚  â”‚  â”‚ Server   â”‚  â”‚ Cluster  â”‚  â”‚          â”‚                   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚    â”‚
â”‚  â”‚                                                              â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚    â”‚
â”‚  â”‚  â”‚        Controller Manager                 â”‚               â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚    â”‚
â”‚  â”‚                                                              â”‚    â”‚
â”‚  â”‚  ğŸ”’ Runs across 3 AZs, fully managed by AWS                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                       â”‚
â”‚                              â”‚ kubectl / API calls                   â”‚
â”‚                              â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    EKS DATA PLANE                            â”‚    â”‚
â”‚  â”‚                   (Your VPC - Báº¡n quáº£n lÃ½)                   â”‚    â”‚
â”‚  â”‚                                                              â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚    â”‚
â”‚  â”‚  â”‚  Worker Node     â”‚  â”‚  Worker Node     â”‚                   â”‚    â”‚
â”‚  â”‚  â”‚  (EC2/Fargate)   â”‚  â”‚  (EC2/Fargate)   â”‚                   â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â” â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â” â”‚                   â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ Pod â”‚â”‚ Pod â”‚ â”‚  â”‚  â”‚ Pod â”‚â”‚ Pod â”‚ â”‚                   â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”˜ â”‚                   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“˜ Kubernetes Core Concepts

### 1. Pod - ÄÆ¡n vá»‹ nhá» nháº¥t

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             POD                                      â”‚
â”‚                                                                       â”‚
â”‚   = ÄÆ¡n vá»‹ deploy nhá» nháº¥t trong K8s                                 â”‚
â”‚   = Wrapper xung quanh 1 hoáº·c nhiá»u containers                       â”‚
â”‚   = CÃ³ IP riÃªng trong cluster                                        â”‚
â”‚                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                        POD                                   â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚   â”‚
â”‚   â”‚  â”‚   Container     â”‚  â”‚   Container     â”‚                   â”‚   â”‚
â”‚   â”‚  â”‚   (app)         â”‚  â”‚   (sidecar)     â”‚                   â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚  Shared:                                                     â”‚   â”‚
â”‚   â”‚  â”œâ”€â”€ Network namespace (cÃ¹ng IP, localhost)                 â”‚   â”‚
â”‚   â”‚  â”œâ”€â”€ Storage volumes                                        â”‚   â”‚
â”‚   â”‚  â””â”€â”€ Lifecycle (sá»‘ng cháº¿t cÃ¹ng nhau)                        â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚  IP: 10.0.0.15 (cluster internal)                           â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚   âš ï¸ Pod lÃ  EPHEMERAL - cÃ³ thá»ƒ bá»‹ xÃ³a vÃ  táº¡o má»›i báº¥t cá»© lÃºc nÃ o!    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Pod manifest vÃ­ dá»¥:**
```yaml
apiVersion: v1
kind: Pod
metadata:
  name: my-app
  labels:
    app: web
spec:
  containers:
  - name: nginx
    image: nginx:1.21
    ports:
    - containerPort: 80
    resources:
      requests:
        memory: "64Mi"
        cpu: "250m"
      limits:
        memory: "128Mi"
        cpu: "500m"
```

---

### 2. Deployment - Quáº£n lÃ½ Pods

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DEPLOYMENT                                  â”‚
â”‚                                                                       â”‚
â”‚   = Quáº£n lÃ½ viá»‡c deploy vÃ  scale Pods                                â”‚
â”‚   = Äáº£m báº£o sá»‘ lÆ°á»£ng Pods mong muá»‘n luÃ´n cháº¡y                        â”‚
â”‚   = Há»— trá»£ rolling updates, rollbacks                                â”‚
â”‚                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                     DEPLOYMENT: my-app                       â”‚   â”‚
â”‚   â”‚                     replicas: 3                              â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚  â”‚                    REPLICASET                         â”‚   â”‚   â”‚
â”‚   â”‚  â”‚                                                       â”‚   â”‚   â”‚
â”‚   â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚   â”‚
â”‚   â”‚  â”‚  â”‚  Pod 1  â”‚  â”‚  Pod 2  â”‚  â”‚  Pod 3  â”‚               â”‚   â”‚   â”‚
â”‚   â”‚  â”‚  â”‚ nginx   â”‚  â”‚ nginx   â”‚  â”‚ nginx   â”‚               â”‚   â”‚   â”‚
â”‚   â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚   Pod cháº¿t â†’ ReplicaSet táº¡o Pod má»›i â†’ LuÃ´n cÃ³ 3 Pods!               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Deployment manifest vÃ­ dá»¥:**
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-app
        image: my-app:v1.0.0
        ports:
        - containerPort: 8080
```

---

### 3. Service - Networking abstraction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SERVICE                                    â”‚
â”‚                                                                       â”‚
â”‚   = Stable endpoint Ä‘á»ƒ truy cáº­p Pods                                 â”‚
â”‚   = Pods cÃ³ IP thay Ä‘á»•i, Service cÃ³ IP cá»‘ Ä‘á»‹nh                       â”‚
â”‚   = Load balancing giá»¯a cÃ¡c Pods                                     â”‚
â”‚                                                                       â”‚
â”‚   Váº¥n Ä‘á»:                                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      â”‚
â”‚   â”‚ Pod A     â”‚ IP: 10.0.0.15 â†’ Pod cháº¿t â†’ IP máº¥t!                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      â”‚
â”‚   â”‚ Pod A'    â”‚ IP: 10.0.0.47 â†’ Pod má»›i, IP khÃ¡c!                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                      â”‚
â”‚                                                                       â”‚
â”‚   Giáº£i phÃ¡p: SERVICE                                                 â”‚
â”‚                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                  SERVICE: my-app-svc                         â”‚   â”‚
â”‚   â”‚                  ClusterIP: 10.100.50.20 (cá»‘ Ä‘á»‹nh!)          â”‚   â”‚
â”‚   â”‚                  Port: 80                                    â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚
â”‚   â”‚            â–¼          â–¼          â–¼                          â”‚   â”‚
â”‚   â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚   â”‚
â”‚   â”‚       â”‚  Pod 1  â”‚â”‚  Pod 2  â”‚â”‚  Pod 3  â”‚                     â”‚   â”‚
â”‚   â”‚       â”‚10.0.0.15â”‚â”‚10.0.0.16â”‚â”‚10.0.0.17â”‚                     â”‚   â”‚
â”‚   â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚   Client gá»i: my-app-svc:80 â†’ Service route tá»›i 1 trong 3 Pods     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CÃ¡c loáº¡i Service:**

| Type | MÃ´ táº£ | Use case |
|------|-------|----------|
| **ClusterIP** | Internal IP, chá»‰ trong cluster | Microservices gá»i nhau |
| **NodePort** | Expose trÃªn port cá»§a Node | Dev/testing |
| **LoadBalancer** | Táº¡o external LB (cloud) | Production, external traffic |

**Service manifest vÃ­ dá»¥:**
```yaml
apiVersion: v1
kind: Service
metadata:
  name: my-app-svc
spec:
  type: LoadBalancer
  selector:
    app: my-app
  ports:
  - port: 80
    targetPort: 8080
```

---

### 4. Namespace - Logical separation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         KUBERNETES CLUSTER                           â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚   NAMESPACE: dev      â”‚  â”‚   NAMESPACE: prod     â”‚                 â”‚
â”‚  â”‚                       â”‚  â”‚                       â”‚                 â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                 â”‚
â”‚  â”‚  â”‚ Deployment:    â”‚  â”‚  â”‚  â”‚ Deployment:    â”‚  â”‚                 â”‚
â”‚  â”‚  â”‚ my-app         â”‚  â”‚  â”‚  â”‚ my-app         â”‚  â”‚                 â”‚
â”‚  â”‚  â”‚ (3 replicas)   â”‚  â”‚  â”‚  â”‚ (10 replicas)  â”‚  â”‚                 â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                 â”‚
â”‚  â”‚                       â”‚  â”‚                       â”‚                 â”‚
â”‚  â”‚  Resource quotas:    â”‚  â”‚  Resource quotas:    â”‚                 â”‚
â”‚  â”‚  CPU: 4 cores        â”‚  â”‚  CPU: 32 cores       â”‚                 â”‚
â”‚  â”‚  Memory: 8Gi         â”‚  â”‚  Memory: 64Gi        â”‚                 â”‚
â”‚  â”‚                       â”‚  â”‚                       â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                                       â”‚
â”‚  âœ… CÃ¹ng tÃªn "my-app" nhÆ°ng hoÃ n toÃ n tÃ¡ch biá»‡t!                    â”‚
â”‚  âœ… Resource quotas khÃ¡c nhau                                        â”‚
â”‚  âœ… RBAC (quyá»n truy cáº­p) khÃ¡c nhau                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5. ConfigMap & Secret

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONFIGMAP & SECRET                                â”‚
â”‚                                                                       â”‚
â”‚   ConfigMap = LÆ°u config khÃ´ng nháº¡y cáº£m                              â”‚
â”‚   Secret = LÆ°u data nháº¡y cáº£m (encoded base64)                        â”‚
â”‚                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  ConfigMap: app-config                                       â”‚   â”‚
â”‚   â”‚  â”œâ”€â”€ DATABASE_HOST=mydb.example.com                         â”‚   â”‚
â”‚   â”‚  â”œâ”€â”€ LOG_LEVEL=info                                         â”‚   â”‚
â”‚   â”‚  â””â”€â”€ FEATURE_FLAG=true                                      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Secret: app-secrets                                         â”‚   â”‚
â”‚   â”‚  â”œâ”€â”€ DATABASE_PASSWORD=c2VjcmV0cGFzcw==                     â”‚   â”‚
â”‚   â”‚  â””â”€â”€ API_KEY=YXBpLWtleS0xMjM0NQ==                           â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚   Inject vÃ o Pod nhÆ° environment variables hoáº·c volume mounts       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 6. Ingress - HTTP routing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           INGRESS                                    â”‚
â”‚                                                                       â”‚
â”‚   = HTTP/HTTPS routing vÃ o cluster                                   â”‚
â”‚   = Host-based vÃ  path-based routing                                 â”‚
â”‚   = SSL/TLS termination                                              â”‚
â”‚                                                                       â”‚
â”‚                      Internet                                        â”‚
â”‚                          â”‚                                           â”‚
â”‚                          â–¼                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚              INGRESS CONTROLLER (ALB)                        â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚  Rules:                                                      â”‚   â”‚
â”‚   â”‚  â”œâ”€â”€ api.example.com â†’ Service: api-svc                     â”‚   â”‚
â”‚   â”‚  â”œâ”€â”€ web.example.com â†’ Service: web-svc                     â”‚   â”‚
â”‚   â”‚  â””â”€â”€ example.com/admin â†’ Service: admin-svc                 â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                    â”‚           â”‚           â”‚                         â”‚
â”‚                    â–¼           â–¼           â–¼                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚              â”‚ api-svc â”‚ â”‚ web-svc â”‚ â”‚admin-svcâ”‚                    â”‚
â”‚              â”‚  Pods   â”‚ â”‚  Pods   â”‚ â”‚  Pods   â”‚                    â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ingress manifest vÃ­ dá»¥:**
```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: my-ingress
  annotations:
    kubernetes.io/ingress.class: alb
    alb.ingress.kubernetes.io/scheme: internet-facing
spec:
  rules:
  - host: api.example.com
    http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: api-svc
            port:
              number: 80
```

---

## ğŸš€ EKS Node Types

### EC2 Managed Node Groups

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EKS MANAGED NODE GROUPS                           â”‚
â”‚                                                                       â”‚
â”‚   = EC2 instances AWS quáº£n lÃ½                                        â”‚
â”‚   = Tá»± Ä‘á»™ng provisioning, updates, scaling                           â”‚
â”‚   = Sá»­ dá»¥ng EKS-optimized AMI                                        â”‚
â”‚                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                  NODE GROUP: general-purpose                 â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚  Instance type: m5.large                                     â”‚   â”‚
â”‚   â”‚  Min: 2, Max: 10, Desired: 3                                â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚   â”‚  â”‚   Node 1    â”‚  â”‚   Node 2    â”‚  â”‚   Node 3    â”‚          â”‚   â”‚
â”‚   â”‚  â”‚  m5.large   â”‚  â”‚  m5.large   â”‚  â”‚  m5.large   â”‚          â”‚   â”‚
â”‚   â”‚  â”‚ (AZ-a)      â”‚  â”‚ (AZ-b)      â”‚  â”‚ (AZ-c)      â”‚          â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚   AWS lo:                              Báº¡n lo:                       â”‚
â”‚   â”œâ”€â”€ Provisioning EC2               â”œâ”€â”€ Chá»n instance type        â”‚
â”‚   â”œâ”€â”€ Join nodes vÃ o cluster         â”œâ”€â”€ Scaling policies          â”‚
â”‚   â”œâ”€â”€ AMI updates                    â””â”€â”€ Application deployment    â”‚
â”‚   â””â”€â”€ Drain & replace nodes                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Self-managed Node Groups

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   SELF-MANAGED NODE GROUPS                           â”‚
â”‚                                                                       â”‚
â”‚   = Báº¡n tá»± quáº£n lÃ½ EC2 instances                                     â”‚
â”‚   = Flexibility cao nháº¥t                                             â”‚
â”‚   = Cáº§n expertise nhiá»u hÆ¡n                                          â”‚
â”‚                                                                       â”‚
â”‚   Khi nÃ o dÃ¹ng?                                                      â”‚
â”‚   â”œâ”€â”€ Custom AMI requirements                                        â”‚
â”‚   â”œâ”€â”€ GPU instances (p3, g4)                                        â”‚
â”‚   â”œâ”€â”€ Spot instances (cost saving)                                  â”‚
â”‚   â””â”€â”€ Special networking needs                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### EKS Fargate

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        EKS FARGATE                                   â”‚
â”‚                                                                       â”‚
â”‚   = Serverless compute cho Kubernetes                                â”‚
â”‚   = KhÃ´ng cáº§n quáº£n lÃ½ nodes                                          â”‚
â”‚   = Pay-per-pod (theo CPU/Memory sá»­ dá»¥ng)                           â”‚
â”‚                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                  FARGATE PROFILE                             â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚  Selector:                                                   â”‚   â”‚
â”‚   â”‚  â”œâ”€â”€ namespace: production                                  â”‚   â”‚
â”‚   â”‚  â””â”€â”€ labels: compute=fargate                                â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚  Pods matching â†’ Run on Fargate automatically!              â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚   â”‚  Pod 1  â”‚  â”‚  Pod 2  â”‚  â”‚  Pod 3  â”‚                             â”‚
â”‚   â”‚ Fargate â”‚  â”‚ Fargate â”‚  â”‚ Fargate â”‚                             â”‚
â”‚   â”‚ (áº©n)    â”‚  â”‚ (áº©n)    â”‚  â”‚ (áº©n)    â”‚                             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                       â”‚
â”‚   âœ… No nodes to manage                                              â”‚
â”‚   âœ… Right-sized per pod                                             â”‚
â”‚   âš ï¸ Má»™t sá»‘ giá»›i háº¡n (DaemonSets, privileged pods)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### So sÃ¡nh Node Types

| TiÃªu chÃ­ | Managed Node Group | Self-managed | Fargate |
|----------|-------------------|--------------|---------|
| **Quáº£n lÃ½** | AWS | Báº¡n | AWS |
| **Scaling** | Tá»± Ä‘á»™ng | Tá»± cáº¥u hÃ¬nh | Per-pod |
| **Cost** | EC2 pricing | EC2 pricing | Per vCPU/GB/s |
| **Flexibility** | Trung bÃ¬nh | Cao nháº¥t | Tháº¥p |
| **DaemonSets** | âœ… | âœ… | âŒ |
| **GPU support** | âœ… | âœ… | âŒ |
| **Best for** | General workloads | Custom needs | Stateless apps |

---

## ğŸ”Œ EKS Integrations vá»›i AWS

### AWS Load Balancer Controller

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               AWS LOAD BALANCER CONTROLLER                           â”‚
â”‚                                                                       â”‚
â”‚   = Tá»± Ä‘á»™ng provision ALB/NLB tá»« K8s resources                       â”‚
â”‚   = Ingress â†’ ALB                                                    â”‚
â”‚   = Service type LoadBalancer â†’ NLB                                  â”‚
â”‚                                                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚   K8s Ingress       â”‚                           â”‚
â”‚                    â”‚   (yaml manifest)   â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                               â”‚                                       â”‚
â”‚                               â–¼                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚  AWS LB Controller  â”‚                           â”‚
â”‚                    â”‚  (watches & acts)   â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                               â”‚                                       â”‚
â”‚                               â–¼                                       â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚                    â”‚   Application       â”‚                           â”‚
â”‚                    â”‚   Load Balancer     â”‚                           â”‚
â”‚                    â”‚   (auto created!)   â”‚                           â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### IAM Roles for Service Accounts (IRSA)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 IAM ROLES FOR SERVICE ACCOUNTS                       â”‚
â”‚                                                                       â”‚
â”‚   = Fine-grained IAM permissions cho Pods                            â”‚
â”‚   = KhÃ´ng cáº§n hardcode AWS credentials                               â”‚
â”‚   = Má»—i Pod cÃ³ IAM Role riÃªng (thay vÃ¬ node-level)                  â”‚
â”‚                                                                       â”‚
â”‚   TrÆ°á»›c IRSA:                                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Node IAM Role: Admin access (quÃ¡ nhiá»u quyá»n!)             â”‚   â”‚
â”‚   â”‚                                                              â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚   â”‚
â”‚   â”‚  â”‚ Pod A   â”‚  â”‚ Pod B   â”‚  â”‚ Pod C   â”‚  â† Táº¥t cáº£ dÃ¹ng      â”‚   â”‚
â”‚   â”‚  â”‚ S3 only â”‚  â”‚ RDS onlyâ”‚  â”‚ SQS onlyâ”‚    cÃ¹ng IAM Role!   â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚   Vá»›i IRSA:                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚   â”‚
â”‚   â”‚  â”‚ Pod A   â”‚  â”‚ Pod B   â”‚  â”‚ Pod C   â”‚                      â”‚   â”‚
â”‚   â”‚  â”‚ Role:S3 â”‚  â”‚ Role:RDSâ”‚  â”‚Role:SQS â”‚  â† Má»—i Pod cÃ³      â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    IAM Role riÃªng!  â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚   âœ… Least privilege principle                                       â”‚
â”‚   âœ… Pod identity                                                     â”‚
â”‚   âœ… Audit trong CloudTrail                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Secrets Manager Integration

```yaml
# ExternalSecret CRD - sync tá»« AWS Secrets Manager vÃ o K8s Secret
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: database-credentials
spec:
  refreshInterval: 1h
  secretStoreRef:
    name: aws-secrets-manager
    kind: SecretStore
  target:
    name: db-secret            # K8s Secret name
  data:
  - secretKey: password
    remoteRef:
      key: prod/database       # AWS Secrets Manager key
      property: password
```

---

## ğŸ”§ EKS Cluster Setup

### Táº¡o EKS Cluster vá»›i eksctl

```bash
# CÃ i Ä‘áº·t eksctl
curl --silent --location "https://github.com/weaveworks/eksctl/releases/latest/download/eksctl_$(uname -s)_amd64.tar.gz" | tar xz -C /tmp
sudo mv /tmp/eksctl /usr/local/bin

# Táº¡o cluster cÆ¡ báº£n
eksctl create cluster \
  --name my-cluster \
  --version 1.28 \
  --region ap-southeast-1 \
  --nodegroup-name standard-workers \
  --node-type t3.medium \
  --nodes 3 \
  --nodes-min 2 \
  --nodes-max 5 \
  --managed
```

### Táº¡o Cluster vá»›i Terraform

```hcl
# main.tf
module "eks" {
  source  = "terraform-aws-modules/eks/aws"
  version = "~> 19.0"

  cluster_name    = "my-cluster"
  cluster_version = "1.28"

  vpc_id     = module.vpc.vpc_id
  subnet_ids = module.vpc.private_subnets

  eks_managed_node_groups = {
    general = {
      min_size     = 2
      max_size     = 10
      desired_size = 3

      instance_types = ["t3.medium"]
      capacity_type  = "ON_DEMAND"
    }
  }
}
```

### Káº¿t ná»‘i tá»›i Cluster

```bash
# Update kubeconfig
aws eks update-kubeconfig --name my-cluster --region ap-southeast-1

# Verify connection
kubectl get nodes
kubectl cluster-info
```

---

## ğŸ“Š EKS vs ECS - Khi nÃ o dÃ¹ng cÃ¡i nÃ o?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       EKS vs ECS                                     â”‚
â”‚                                                                       â”‚
â”‚   ECS                              EKS                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚ AWS Proprietary   â”‚            â”‚ Open Source K8s   â”‚             â”‚
â”‚   â”‚                   â”‚            â”‚                   â”‚             â”‚
â”‚   â”‚ âœ… Simpler        â”‚            â”‚ âœ… Portable       â”‚             â”‚
â”‚   â”‚ âœ… Less learning  â”‚            â”‚ âœ… Rich ecosystem â”‚             â”‚
â”‚   â”‚ âœ… Lower cost     â”‚            â”‚ âœ… Industry std   â”‚             â”‚
â”‚   â”‚                   â”‚            â”‚                   â”‚             â”‚
â”‚   â”‚ âŒ AWS lock-in    â”‚            â”‚ âŒ More complex   â”‚             â”‚
â”‚   â”‚ âŒ Limited tools  â”‚            â”‚ âŒ Steeper curve  â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Decision Matrix

| TiÃªu chÃ­ | Chá»n ECS | Chá»n EKS |
|----------|----------|----------|
| **Team size** | Nhá», Ã­t DevOps | CÃ³ dedicated platform team |
| **K8s experience** | KhÃ´ng/Ã­t | ÄÃ£ cÃ³ kinh nghiá»‡m |
| **Multi-cloud** | KhÃ´ng cáº§n | Cáº§n portability |
| **Ecosystem** | AWS-native Ä‘á»§ | Cáº§n Helm, Prometheus, etc. |
| **Learning curve** | Muá»‘n nhanh | Sáºµn sÃ ng Ä‘áº§u tÆ° |
| **Cost sensitivity** | Quan trá»ng | CÃ³ budget cho $0.10/hr |

### Khi nÃ o chá»n EKS?

1. **ÄÃ£ dÃ¹ng K8s on-prem** â†’ Migrate lÃªn EKS dá»… dÃ ng
2. **Multi-cloud strategy** â†’ Code K8s cháº¡y Ä‘Æ°á»£c AWS, GCP, Azure
3. **Rich ecosystem needs** â†’ Helm charts, operators, service mesh
4. **Industry compliance** â†’ Má»™t sá»‘ compliance yÃªu cáº§u K8s
5. **Team expertise** â†’ ÄÃ£ cÃ³ K8s skills

### Khi nÃ o chá»n ECS?

1. **Simple container needs** â†’ KhÃ´ng cáº§n K8s complexity
2. **AWS-focused** â†’ KhÃ´ng cáº§n multi-cloud
3. **Small team** â†’ Ãt ngÆ°á»i quáº£n lÃ½ infrastructure
4. **Cost conscious** â†’ KhÃ´ng muá»‘n tráº£ $0.10/hr cho control plane
5. **New to containers** â†’ Learning curve tháº¥p hÆ¡n

---

## ğŸ¯ Production Best Practices

### 1. Cluster Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 PRODUCTION EKS ARCHITECTURE                          â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                        VPC                                   â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚                  PUBLIC SUBNETS                       â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â”‚          Application Load Balancer              â”‚ â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ NAT GW (a) â”‚  â”‚ NAT GW (b) â”‚  â”‚ NAT GW (c) â”‚     â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â”‚                                                              â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚                 PRIVATE SUBNETS                       â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â”‚  Node     â”‚  â”‚  Node     â”‚  â”‚  Node     â”‚         â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â”‚  (AZ-a)   â”‚  â”‚  (AZ-b)   â”‚  â”‚  (AZ-c)   â”‚         â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”   â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”   â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”   â”‚         â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ â”‚Pods â”‚   â”‚  â”‚ â”‚Pods â”‚   â”‚  â”‚ â”‚Pods â”‚   â”‚         â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”˜   â”‚  â”‚ â””â”€â”€â”€â”€â”€â”˜   â”‚  â”‚ â””â”€â”€â”€â”€â”€â”˜   â”‚         â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                       â”‚
â”‚  âœ… Nodes trong private subnets                                      â”‚
â”‚  âœ… ALB trong public subnets                                         â”‚
â”‚  âœ… NAT Gateway cho outbound traffic                                 â”‚
â”‚  âœ… Multi-AZ cho high availability                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Security Best Practices

```yaml
# Network Policy - Restrict Pod-to-Pod traffic
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: api-network-policy
  namespace: production
spec:
  podSelector:
    matchLabels:
      app: api
  policyTypes:
  - Ingress
  - Egress
  ingress:
  - from:
    - podSelector:
        matchLabels:
          app: frontend
    ports:
    - port: 8080
  egress:
  - to:
    - podSelector:
        matchLabels:
          app: database
    ports:
    - port: 5432
```

### 3. Resource Quotas

```yaml
# Giá»›i háº¡n resources per namespace
apiVersion: v1
kind: ResourceQuota
metadata:
  name: production-quota
  namespace: production
spec:
  hard:
    requests.cpu: "20"
    requests.memory: 40Gi
    limits.cpu: "40"
    limits.memory: 80Gi
    pods: "100"
```

### 4. Pod Disruption Budgets

```yaml
# Äáº£m báº£o luÃ´n cÃ³ min pods running
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: api-pdb
spec:
  minAvailable: 2
  selector:
    matchLabels:
      app: api
```

---

## ğŸ“ˆ Monitoring & Logging

### CloudWatch Container Insights

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               CLOUDWATCH CONTAINER INSIGHTS                          â”‚
â”‚                                                                       â”‚
â”‚   = Metrics vÃ  logs tá»« EKS vÃ o CloudWatch                            â”‚
â”‚   = Pre-built dashboards                                             â”‚
â”‚   = Automatic alarms                                                 â”‚
â”‚                                                                       â”‚
â”‚   Metrics thu tháº­p:                                                  â”‚
â”‚   â”œâ”€â”€ CPU/Memory utilization (cluster, node, pod)                   â”‚
â”‚   â”œâ”€â”€ Network I/O                                                    â”‚
â”‚   â”œâ”€â”€ Storage utilization                                            â”‚
â”‚   â”œâ”€â”€ Container restart counts                                       â”‚
â”‚   â””â”€â”€ Pod scheduling status                                          â”‚
â”‚                                                                       â”‚
â”‚   Enable:                                                            â”‚
â”‚   aws eks update-cluster-config \                                    â”‚
â”‚     --name my-cluster \                                              â”‚
â”‚     --logging '{"clusterLogging":[{"types":["api","audit",          â”‚
â”‚                 "authenticator","controllerManager","scheduler"],    â”‚
â”‚                 "enabled":true}]}'                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Prometheus & Grafana Stack

```yaml
# Sá»­ dá»¥ng Helm Ä‘á»ƒ install
helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
helm install prometheus prometheus-community/kube-prometheus-stack \
  --namespace monitoring \
  --create-namespace
```

---

## ğŸ“š Tá»•ng káº¿t

### EKS Core Concepts

| Concept | K8s | EKS specifics |
|---------|-----|---------------|
| **Cluster** | K8s cluster | AWS managed control plane |
| **Nodes** | Worker machines | EC2, Fargate, Self-managed |
| **Pods** | Container wrapper | Same |
| **Deployments** | Pod management | Same |
| **Services** | Networking | Can create AWS ALB/NLB |
| **Ingress** | HTTP routing | AWS ALB Ingress Controller |

### Khi nÃ o dÃ¹ng EKS?

âœ… ÄÃ£ cÃ³ kinh nghiá»‡m K8s
âœ… Cáº§n multi-cloud portability
âœ… Cáº§n rich K8s ecosystem (Helm, Operators)
âœ… Enterprise-grade container orchestration
âœ… Complex microservices architectures

### Chi phÃ­ EKS

| Component | Cost |
|-----------|------|
| **Control plane** | $0.10/hour (~$73/month) |
| **Worker nodes** | EC2 pricing |
| **Fargate** | vCPU + Memory pricing |
| **Data transfer** | Standard AWS rates |

---

## ğŸ”— Resources há»¯u Ã­ch

- [EKS Documentation](https://docs.aws.amazon.com/eks/)
- [eksctl - Official CLI](https://eksctl.io/)
- [EKS Workshop](https://www.eksworkshop.com/)
- [EKS Best Practices](https://aws.github.io/aws-eks-best-practices/)
- [Kubernetes Documentation](https://kubernetes.io/docs/)
